<?xml version="1.0" encoding="utf-8" ?>
<sqlMap namespace="DpStatementFieldMap" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://ibatis.apache.org/mapping">
  <alias>
    <typeAlias alias="DpStatementField" assembly="DMS.Model.dll" type="DMS.Model.DpStatementField" />
  </alias>
  <resultMaps>
    <resultMap id="DpStatementFieldResult" class="DpStatementField">
      <result property="Key" column="STF_Key" type="string" dbType="nvarchar"/>
      <result property="Name" column="STF_Name" type="string" dbType="nvarchar"/>
      <result property="Formula" column="STF_Formula" type="string" dbType="nvarchar"/>
      <result property="Type" column="STF_Type" type="string" dbType="nvarchar"/>
      <result property="SortNo" column="STF_SortNo" type="int" dbType="int"/>
    </resultMap>
  </resultMaps>
  <statements>

    <select id="SelectDpStatementField" parameterClass="string" resultClass="DpStatementField">
      SELECT STF_Key AS Key,STF_Name AS Name,STF_Formula AS Formula,STF_Type AS Type,STF_SortNo AS SortNo
      FROM DPStatementField
      <dynamic prepend="WHERE">
        <isParameterPresent>
          STF_Key = #value#
        </isParameterPresent>
      </dynamic>
    </select>
    <select id="SelectByFilterDpStatementField" parameterClass="DpStatementField" resultClass="DpStatementField">
      SELECT STF_Key AS Key,STF_Name AS Name,STF_Formula AS Formula,STF_Type AS Type,STF_SortNo AS SortNo
      FROM DPStatementField
      <dynamic prepend="WHERE">
        <isNotNull prepend="AND" property="Key">STF_Key=#Key#</isNotNull>
        <isNotNull prepend="AND" property="Name">STF_Name=#Name#</isNotNull>
        <isNotNull prepend="AND" property="Formula">STF_Formula=#Formula#</isNotNull>
        <isNotNull prepend="AND" property="Type">STF_Type=#Type#</isNotNull>
        <isNotNull prepend="AND" property="SortNo">STF_SortNo=#SortNo#</isNotNull>
      </dynamic>
    </select>
    <insert id="InsertDpStatementField" parameterClass="DpStatementField">
      INSERT INTO DPStatementField
      (STF_Key,STF_Name,STF_Formula,STF_Type,STF_SortNo)
      VALUES(#Key#,#Name#,#Formula#,#Type#,#SortNo#)
    </insert>
    <update id="UpdateDpStatementField" parameterClass="DpStatementField">
      UPDATE DPStatementField
      SET STF_Key=#Key#,STF_Name=#Name#,STF_Formula=#Formula#,STF_Type=#Type#,STF_SortNo=#SortNo#
      WHERE STF_Key = #Key#
    </update>
    <delete id="DeleteDpStatementField" parameterClass="string">
      DELETE FROM DPStatementField
      WHERE STF_Key = #value#
    </delete>
    <!--added by bozhenfei on 20151207-->
    <select id="SelectDealerFinanceStatementFieldByType" parameterClass="string" resultClass="DpStatementField">
      SELECT STF_Key AS [Key],STF_Name AS Name,STF_Formula AS Formula,STF_Type AS Type
      FROM DPStatementField
      WHERE STF_Type=#value#
      ORDER BY STF_SortNo
    </select>
    <!--end-->
  </statements>
</sqlMap>
