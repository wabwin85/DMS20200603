<?xml version="1.0" encoding="utf-8" ?>
<sqlMap namespace="PurchaseOrderInterfaceMap" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://ibatis.apache.org/mapping">
  <alias>
    <typeAlias alias="PurchaseOrderInterface" assembly="DMS.Model.dll" type="DMS.Model.PurchaseOrderInterface" />
    <typeAlias alias="SapOrderData" assembly="DMS.Model.dll" type="DMS.Model.SapOrderData" />
    <typeAlias alias="LpOrderData" assembly="DMS.Model.dll" type="DMS.Model.LpOrderData" />
    <typeAlias alias="T2OrderData" assembly="DMS.Model.dll" type="DMS.Model.T2OrderData" />
  </alias>
  <resultMaps>
    <resultMap id="PurchaseOrderInterfaceResult" class="PurchaseOrderInterface">
      <result property="Id" column="POI_ID" type="Guid" dbType="uniqueidentifier"/>
      <result property="BatchNbr" column="POI_BatchNbr" type="string" dbType="nvarchar"/>
      <result property="RecordNbr" column="POI_RecordNbr" type="string" dbType="nvarchar"/>
      <result property="PohId" column="POI_POH_ID" type="Guid" dbType="uniqueidentifier"/>
      <result property="PohOrderNo" column="POI_POH_OrderNo" type="string" dbType="nvarchar"/>
      <result property="Status" column="POI_Status" type="string" dbType="nvarchar"/>
      <result property="ProcessType" column="POI_ProcessType" type="string" dbType="nvarchar"/>
      <result property="FileName" column="POI_FileName" type="string" dbType="nvarchar"/>
      <result property="CreateUser" column="POI_CreateUser" type="Guid" dbType="uniqueidentifier"/>
      <result property="CreateDate" column="POI_CreateDate" type="DateTime" dbType="datetime"/>
      <result property="UpdateUser" column="POI_UpdateUser" type="Guid" dbType="uniqueidentifier"/>
      <result property="UpdateDate" column="POI_UpdateDate" type="DateTime" dbType="datetime"/>
      <result property="Clientid" column="POI_ClientID" type="string" dbType="nvarchar"/>
    </resultMap>
    <resultMap id="SapOrderDataResult" class="SapOrderData">
      <result property="CustomerID" column="CustomerID" type="string" dbType="nvarchar"/>
      <result property="PO" column="PO" type="string" dbType="nvarchar"/>
      <result property="POType" column="POType" type="string" dbType="nvarchar"/>
      <result property="Organization" column="Organization" type="string" dbType="nvarchar"/>
      <result property="Remark" column="Remark" type="string" dbType="nvarchar"/>
      <result property="UPN" column="UPN" type="string" dbType="nvarchar"/>
      <result property="Lot" column="Lot" type="string" dbType="nvarchar"/>
      <result property="Qty" column="Qty" type="decimal" dbType="decimal"/>
      <result property="RDD" column="RDD" type="string" dbType="nvarchar"/>
      <result property="ShipTo" column="ShipTo" type="string" dbType="nvarchar"/>
    </resultMap>
    <resultMap id="LpOrderDataResult" class="LpOrderData">
      <result property="OrderNo" column="OrderNo" type="string" dbType="nvarchar"/>
      <result property="OrderType" column="OrderType" type="string" dbType="nvarchar"/>
      <result property="DeliveryAddress" column="DeliveryAddress" type="string" dbType="nvarchar"/>
      <result property="Remark" column="Remark" type="string" dbType="nvarchar"/>
      <result property="UPN" column="UPN" type="string" dbType="nvarchar"/>
      <result property="Lot" column="Lot" type="string" dbType="nvarchar"/>
      <result property="Qty" column="Qty" type="decimal" dbType="decimal"/>
      <result property="UnitPrice" column="UnitPrice" type="decimal" dbType="decimal"/>
      <result property="QRCode" column="QRCode" type="string" dbType="nvarchar"/>
    </resultMap>
    <resultMap id="T2OrderDataResult" class="T2OrderData">
      <result property="DistributorID" column="DistributorID" type="string" dbType="nvarchar"/>
      <result property="OrderNo" column="OrderNo" type="string" dbType="nvarchar"/>
      <result property="OrderType" column="OrderType" type="string" dbType="nvarchar"/>
      <result property="Carrier" column="Carrier" type="string" dbType="nvarchar"/>
      <result property="RDD" column="RDD" type="DateTime" dbType="datetime"/>
      <result property="ContactPerson" column="ContactPerson" type="string" dbType="nvarchar"/>
      <result property="Contact" column="Contact" type="string" dbType="nvarchar"/>
      <result property="ContactMobile" column="ContactMobile" type="string" dbType="nvarchar"/>
      <result property="Consignee" column="Consignee" type="string" dbType="nvarchar"/>
      <result property="ConsigneePhone" column="ConsigneePhone" type="string" dbType="nvarchar"/>
      <result property="DeliveryAddress" column="DeliveryAddress" type="string" dbType="nvarchar"/>
      <result property="Remark" column="Remark" type="string" dbType="nvarchar"/>
      <result property="UPN" column="UPN" type="string" dbType="nvarchar"/>
      <!--<result property="Lot" column="Lot" type="string" dbType="nvarchar"/>-->
      <result property="Qty" column="Qty" type="decimal" dbType="decimal"/>
      <result property="UnitPrice" column="UnitPrice" type="decimal" dbType="decimal"/>
      <result property="Lot" column="Lot" type="string" dbType="nvarchar"/>
      <result property="HospitalCode" column="HospitalCode" type="string" dbType="nvarchar"/>
      <result property="WHCode" column="WHCode" type="string" dbType="nvarchar"/>
      <result property="QRCode" column="QRCode" type="string" dbType="nvarchar"/>
    </resultMap>
  </resultMaps>
  <parameterMaps>
    <parameterMap id="GC_PurchaseOrder_AfterDownload_ParameterMap" class="System.Collections.Hashtable" >
      <parameter property="RtnVal" column="RtnVal" direction="Output" />
      <parameter property="BatchNbr" column="BatchNbr" />
      <parameter property="ClientID" column="ClientID" />
      <parameter property="Success" column="Success" />
    </parameterMap>
    <parameterMap id="GC_Interface_ProcessRunner_PurchaseOrder_ParameterMap" class="System.Collections.Hashtable" >
      <parameter property="RtnVal" column="RtnVal" direction="Output" />
      <parameter property="RtnMsg" column="RtnMsg" direction="Output" />
      <parameter property="HeaderID" column="HeaderID" />
      <parameter property="SubCompanyId" column="SubCompanyId" />
      <parameter property="BrandId" column="BrandId" />
    </parameterMap>
  </parameterMaps>
  <statements>

    <select id="SelectPurchaseOrderInterface" parameterClass="string" resultClass="PurchaseOrderInterface">
      SELECT POI_ID AS Id,POI_BatchNbr AS BatchNbr,POI_RecordNbr AS RecordNbr,POI_POH_ID AS PohId,POI_POH_OrderNo AS PohOrderNo,POI_Status AS Status,POI_ProcessType AS ProcessType,POI_FileName AS FileName,POI_CreateUser AS CreateUser,POI_CreateDate AS CreateDate,POI_UpdateUser AS UpdateUser,POI_UpdateDate AS UpdateDate,POI_ClientID AS Clientid
      FROM PurchaseOrderInterface
      <dynamic prepend="WHERE">
        <isParameterPresent>
          POI_ID = #value#
        </isParameterPresent>
      </dynamic>
    </select>
    <select id="SelectByFilterPurchaseOrderInterface" parameterClass="PurchaseOrderInterface" resultClass="PurchaseOrderInterface">
      SELECT POI_ID AS Id,POI_BatchNbr AS BatchNbr,POI_RecordNbr AS RecordNbr,POI_POH_ID AS PohId,POI_POH_OrderNo AS PohOrderNo,POI_Status AS Status,POI_ProcessType AS ProcessType,POI_FileName AS FileName,POI_CreateUser AS CreateUser,POI_CreateDate AS CreateDate,POI_UpdateUser AS UpdateUser,POI_UpdateDate AS UpdateDate,POI_ClientID AS Clientid
      FROM PurchaseOrderInterface
      <dynamic prepend="WHERE">
        <isNotNull prepend="AND" property="Id">POI_ID=#Id#</isNotNull>
        <isNotNull prepend="AND" property="BatchNbr">POI_BatchNbr=#BatchNbr#</isNotNull>
        <isNotNull prepend="AND" property="RecordNbr">POI_RecordNbr=#RecordNbr#</isNotNull>
        <isNotNull prepend="AND" property="PohId">POI_POH_ID=#PohId#</isNotNull>
        <isNotNull prepend="AND" property="PohOrderNo">POI_POH_OrderNo=#PohOrderNo#</isNotNull>
        <isNotNull prepend="AND" property="Status">POI_Status=#Status#</isNotNull>
        <isNotNull prepend="AND" property="ProcessType">POI_ProcessType=#ProcessType#</isNotNull>
        <isNotNull prepend="AND" property="FileName">POI_FileName=#FileName#</isNotNull>
        <isNotNull prepend="AND" property="UpdateUser">POI_UpdateUser=#UpdateUser#</isNotNull>
        <isNotNull prepend="AND" property="UpdateDate">POI_UpdateDate=#UpdateDate#</isNotNull>
        <isNotNull prepend="AND" property="Clientid">POI_ClientID=#Clientid#</isNotNull>
      </dynamic>
    </select>
    <insert id="InsertPurchaseOrderInterface" parameterClass="PurchaseOrderInterface">
      INSERT INTO PurchaseOrderInterface
      (POI_ID,POI_BatchNbr,POI_RecordNbr,POI_POH_ID,POI_POH_OrderNo,POI_Status,POI_ProcessType,POI_FileName,POI_CreateUser,POI_CreateDate,POI_UpdateUser,POI_UpdateDate,POI_ClientID)
      VALUES(#Id#,#BatchNbr#,#RecordNbr#,#PohId#,#PohOrderNo#,#Status#,#ProcessType#,#FileName#,#CreateUser#,#CreateDate:DateTime:1/1/0001 12:00:00 AM#,#UpdateUser#,#UpdateDate:DateTime:1/1/0001 12:00:00 AM#,#Clientid#)
    </insert>
    <update id="UpdatePurchaseOrderInterface" parameterClass="PurchaseOrderInterface">
      UPDATE PurchaseOrderInterface
      SET POI_ID=#Id#,POI_BatchNbr=#BatchNbr#,POI_RecordNbr=#RecordNbr#,POI_POH_ID=#PohId#,POI_POH_OrderNo=#PohOrderNo#,POI_Status=#Status#,POI_ProcessType=#ProcessType#,POI_FileName=#FileName#,POI_UpdateUser=#UpdateUser#,POI_UpdateDate=#UpdateDate#,POI_ClientID=#Clientid#
      WHERE POI_ID = #Id#
    </update>
    <delete id="DeletePurchaseOrderInterface" parameterClass="string">
      DELETE FROM PurchaseOrderInterface
      WHERE POI_ID = #value#
    </delete>
    <!--added by bozhenfei on 20110224-->
    <select id="SelectPurchaseOrderInterfaceByBatchNbr" parameterClass="string" resultClass="PurchaseOrderInterface">
      SELECT POI_ID AS Id,POI_BatchNbr AS BatchNbr,POI_RecordNbr AS RecordNbr,POI_POH_ID AS PohId,POI_POH_OrderNo AS PohOrderNo,POI_Status AS Status,POI_ProcessType AS ProcessType,POI_FileName AS FileName,POI_CreateUser AS CreateUser,POI_CreateDate AS CreateDate,POI_UpdateUser AS UpdateUser,POI_UpdateDate AS UpdateDate,POI_ClientID AS Clientid
      FROM PurchaseOrderInterface WHERE  POI_BatchNbr=#value# ORDER BY POI_POH_OrderNo
    </select>
    <!--end-->
    <update id="UpdatePurchaseOrderInterfaceStatusCancelled" parameterClass="string">
      UPDATE PurchaseOrderInterface
      SET POI_Status='Cancelled'
      WHERE POI_POH_ID = #value#
    </update>

    <!--added by bozhenfei on 20130716-->
    <!--根据客户端ID初始化接口表-->
    <update id="UpdatePurchaseOrderInterfaceForInitByClientID" parameterClass="System.Collections.Hashtable">
      WITH POI (POI_ID, RECORD_NBR) AS
      (SELECT POI_ID,ROW_NUMBER() OVER (ORDER BY POI_POH_OrderNo) AS RECORD_NBR from PurchaseOrderInterface
      WHERE POI_ClientID=#Clientid# AND POI_Status='Pending')
      UPDATE PurchaseOrderInterface SET POI_BatchNbr=#BatchNbr#, POI_RecordNbr = POI.RECORD_NBR, POI_Status='Processing', POI_UpdateDate = #UpdateDate#
      FROM POI WHERE POI.POI_ID = PurchaseOrderInterface.POI_ID
    </update>
    <!--根据客户端ID初始化LP自己的订单数据-->
    <update id="UpdatePurchaseOrderInterfaceForLpInitByClientID" parameterClass="System.Collections.Hashtable">
      WITH POI (POI_ID, RECORD_NBR) AS
      (SELECT POI_ID,ROW_NUMBER() OVER (ORDER BY POI_POH_OrderNo) AS RECORD_NBR from PurchaseOrderInterface
      INNER JOIN PurchaseOrderHeader ON POH_ID = POI_POH_ID
      INNER JOIN Client ON CLT_ID = POI_ClientID
      WHERE POI_ClientID=#Clientid# AND POI_Status='Pending' AND POH_DMA_ID = CLT_Corp_Id AND POH_OrderStatus IN ('Delivering','Confirmed','ApplyComplete','Completed'))
      UPDATE PurchaseOrderInterface SET POI_BatchNbr=#BatchNbr#, POI_RecordNbr = POI.RECORD_NBR, POI_Status='Processing', POI_UpdateDate = #UpdateDate#
      FROM POI WHERE POI.POI_ID = PurchaseOrderInterface.POI_ID
    </update>
    <!--根据客户端ID初始化LP下二级经销商的订单数据-->
    <update id="UpdatePurchaseOrderInterfaceForT2InitByClientID" parameterClass="System.Collections.Hashtable">
      WITH POI (POI_ID, RECORD_NBR) AS
      (SELECT POI_ID,ROW_NUMBER() OVER (ORDER BY POI_POH_OrderNo) AS RECORD_NBR from PurchaseOrderInterface
      INNER JOIN PurchaseOrderHeader ON POH_ID = POI_POH_ID
      INNER JOIN Client ON CLT_ID = POI_ClientID
      WHERE POI_ClientID=#Clientid# AND POI_Status='Pending' AND POH_VendorID = CLT_Corp_Id)
      UPDATE PurchaseOrderInterface SET POI_BatchNbr=#BatchNbr#, POI_RecordNbr = POI.RECORD_NBR, POI_Status='Processing', POI_UpdateDate = #UpdateDate#
      FROM POI WHERE POI.POI_ID = PurchaseOrderInterface.POI_ID
    </update>
    <!--根据批处理号得到订单明细数据-->
    <select id="QueryPurchaseOrderDetailInfoByBatchNbr" parameterClass="string" resultClass="SapOrderData">
      SELECT
      CASE WHEN CHARINDEX('医院SAP ID：',isnull(POH.POH_Remark,'')) >0 then substring(POH.POH_Remark,CHARINDEX('医院SAP ID：',isnull(POH.POH_Remark,''))+9,len(POH.POH_Remark)) else Isnull(D.DMA_SAP_Code,'') end  AS CustomerID,
      Isnull(POH.POH_OrderNo,'') AS PO,
      case when POH.POH_OrderType = 'SpecialPrice' and POD2.CFN_Price > 0 then 'OR' else
      case when POH.POH_OrderType = 'SpecialPrice' and POD2.CFN_Price= 0 then 'ZNC' else
      Isnull(ORDERTYPE.REV1,'') end end AS POType,
      Isnull(P.REV1,'') AS Organization,
      Case when len(Isnull(POH.POH_Remark,'')) > 130 then substring(POH.POH_Remark,1,130) else Isnull(POH.POH_Remark,'') end AS Remark,
      POH.POH_DcType AS DeliveryType,
      case when isnull(poh.POH_SendAddress,'') !='' then POH_SendAddress  when isnull(poh.POH_SendAddress,'') ='' then poh.POH_ShipToAddress end as ShipToAddress,
      Isnull(CFN.CFN_CustomerFaceNbr,'') AS UPN,
      Isnull(POD.POD_LotNumber,'') AS Lot,
      POD.POD_RequiredQty AS Qty,
      case when POH.POH_RDD is null then convert(nvarchar(10),DATEADD(day,7,getdate()),120) else convert(nvarchar(10),DATEADD(day,7,POH.POH_RDD),120) end AS RDD
      ,ISNULL((SELECT TOP 1 SWA_WH_Code FROM SAPWarehouseAddress WHERE  (SWA_WH_Address+'('+ISNULL(SWA_WH_Code,'')+ISNULL(SWA_AddressType,'')+')')=ISNULL(POH.POH_ShipToAddress,'')),'') ShipTo,
      isnull(CP.Plant,'') AS Plant
      FROM PurchaseOrderInterface POI(nolock)
      INNER JOIN PurchaseOrderHeader POH(nolock) ON POH.POH_ID = POI.POI_POH_ID
      INNER JOIN PurchaseOrderDetail POD(nolock) ON POD.POD_POH_ID = POH.POH_ID
      INNER JOIN (select POD_POH_ID,SUM(POD_CFN_Price) as CFN_Price from PurchaseOrderDetail (nolock) GROUP BY POD_POH_ID) POD2 on POD2.POD_POH_ID = POH.POH_ID
      INNER JOIN DealerMaster D(nolock) ON D.DMA_ID = POH.POH_DMA_ID
      INNER JOIN CFN (nolock) ON CFN.CFN_ID = POD.POD_CFN_ID
      INNER JOIN (SELECT DICT_KEY, REV1, REV2 FROM Lafite_DICT(nolock) WHERE DICT_TYPE = 'CONST_Order_Type') AS ORDERTYPE ON ORDERTYPE.DICT_KEY = POH.POH_OrderType
      INNER JOIN View_ProductLine P(nolock) ON P.Id = POH.POH_ProductLine_BUM_ID
      LEFT JOIN interface.View_Stage_SAP_ConsignmentBatchAndPlant CP on (CP.Material = CFN.CFN_CustomerFaceNbr and CP.Batch = POD.POD_LotNumber and CP.CustomerNumber = D.DMA_SAP_Code )
      WHERE POI.POI_BatchNbr = #BatchNbr#
      ORDER BY POH.POH_OrderNo, POD_CFN_Price desc,CFN.CFN_CustomerFaceNbr
    </select>
    <!--根据批处理号得到LP订单明细数据-->
    <select id="QueryPurchaseOrderDetailInfoByBatchNbrForLp" parameterClass="string" resultClass="LpOrderData">
      SELECT distinct
      Isnull(POH.POH_OrderNo,'') AS OrderNo,
      (select VPL.DivisionName from  V_DivisionProductLineRelation VPL where VPL.ProductLineID = POH.POH_ProductLine_BUM_ID ) AS ProductLine,
      Case When POH.POH_OrderType = 'Transfer' then 'OR' else Isnull(ORDERTYPE.REV1,'') end AS OrderType,
      Isnull(POH.POH_ShipToAddress,'') AS DeliveryAddress,
      Isnull(POH.POH_SubmitDate,'') AS SubmitDate,
      Isnull(POH.POH_Remark,'') AS Remark,
      case when POH.POH_OrderType = 'ClearBorrowManual' then ISNULL(POH.POH_Remark,'') else '' end as ConsignmentSalesOrderNo,
      Isnull(CFN.CFN_CustomerFaceNbr,'') AS UPN,
      Isnull(CFN.CFN_Property1,'') AS ShortUPN,
      Isnull(POD.POD_LotNumber,'') AS Lot,
      Case when POH.POH_OrderType='ClearBorrowManual' THEN POQR.POD_RequiredQty ELSE POD.POD_RequiredQty END AS Qty,      
      Case when POH.POH_OrderType in ('EEGoodsReturn','PEGoodsReturn') then 0 else POD.POD_CFN_Price end AS UnitPrice,
      <!-- 添加二维码信息 Edit By SongWeiming on 2015-12-03 Start-->
      CASE WHEN POH.POH_OrderType='ClearBorrowManual' THEN Isnull(POQR.POD_QRCode,'') ELSE '' END AS QRCode
      <!-- 添加二维码信息 Edit By SongWeiming on 2015-12-03 End-->
      FROM PurchaseOrderInterface POI(nolock)
      INNER JOIN PurchaseOrderHeader POH(nolock) ON POH.POH_ID = POI.POI_POH_ID
      INNER JOIN PurchaseOrderDetail POD(nolock) ON POD.POD_POH_ID = POH.POH_ID
      INNER JOIN CFN(nolock) ON CFN.CFN_ID = POD.POD_CFN_ID
      INNER JOIN (SELECT DICT_KEY, REV1, REV2 FROM Lafite_DICT(nolock) WHERE DICT_TYPE = 'CONST_Order_Type') AS ORDERTYPE ON ORDERTYPE.DICT_KEY = POH.POH_OrderType
      LEFT JOIN PurchaseOrderDetail_WithQR POQR(nolock) ON (POH.POH_ID = POQR.POD_POH_ID and POD.POD_CFN_ID = POQR.POD_CFN_ID  AND  POD.POD_LotNumber=POQR.POD_LotNumber)
      WHERE POI.POI_BatchNbr = #BatchNbr#
      AND POH.POH_OrderStatus IN ('Delivering','Confirmed','ApplyComplete','Completed')
      ORDER BY OrderNo, UPN
    </select>
    <!--根据批处理号得到二级经销商订单明细数据-->
    <select id="QueryPurchaseOrderDetailInfoByBatchNbrForT2" parameterClass="string" resultClass="T2OrderData">
      SELECT
      Isnull(D.DMA_SAP_Code,'') AS DistributorID,
      Isnull(POH.POH_OrderNo,'') AS OrderNo,
      (select VPL.DivisionName from  V_DivisionProductLineRelation VPL where VPL.ProductLineID = POH.POH_ProductLine_BUM_ID ) AS ProductLine,
      Isnull(ORDERTYPE.REV2,'') AS OrderType,
      Isnull(POH.POH_TerritoryCode,'') AS Carrier,
      POH.POH_RDD AS RDD,
      Isnull(POH.POH_ContactPerson,'') AS ContactPerson,
      Isnull(POH.POH_Contact,'') AS Contact,
      Isnull(POH.POH_ContactMobile,'') AS ContactMobile,
      Isnull(POH.POH_Consignee,'') AS Consignee,
      Isnull(POH.POH_ConsigneePhone,'') AS ConsigneePhone,
      Isnull(POH.POH_ShipToAddress,'') AS DeliveryAddress,
      Isnull(POH.POH_Remark,'') AS Remark,
      Isnull(CFN.CFN_CustomerFaceNbr,'') AS UPN,
      Isnull(CFN.CFN_Property1,'') AS ShortUPN,
      POD.POD_RequiredQty AS Qty,
      POD.POD_CFN_Price AS UnitPrice,
      Isnull(POD.POD_LotNumber,'') as Lot,
      Isnull(HOS.HOS_Key_Account,'') as HospitalCode,
      Isnull(WH.WHM_Code,'') as WHCode,
      isnull(POD.POD_ShipmentNbr,'') as SalesNo,
      ISNULL(POD.POD_QRCode,'') AS QRCode
      FROM PurchaseOrderInterface POI(nolock)
      INNER JOIN PurchaseOrderHeader POH(nolock) ON POH.POH_ID = POI.POI_POH_ID
      INNER JOIN PurchaseOrderDetail POD(nolock) ON POD.POD_POH_ID = POH.POH_ID
      INNER JOIN DealerMaster D(nolock) ON D.DMA_ID = POH.POH_DMA_ID
      INNER JOIN CFN(nolock) ON CFN.CFN_ID = POD.POD_CFN_ID
      LEFT JOIN Warehouse WH(nolock) ON POD.POD_WH_ID = WH.WHM_ID
      LEFT JOIN Hospital HOS(nolock) ON POD.POD_HOS_ID = HOS.HOS_ID
      INNER JOIN (SELECT DICT_KEY, REV1, REV2 FROM Lafite_DICT(nolock) WHERE DICT_TYPE = 'CONST_Order_Type') AS ORDERTYPE ON ORDERTYPE.DICT_KEY = POH.POH_OrderType
      WHERE POI.POI_BatchNbr = #BatchNbr#
      ORDER BY POH.POH_OrderNo, CFN.CFN_CustomerFaceNbr
    </select>
    <!--客户端下载完订单后更新数据-->
    <procedure id="GC_PurchaseOrder_AfterDownload" parameterMap="GC_PurchaseOrder_AfterDownload_ParameterMap">
      dbo.GC_PurchaseOrder_AfterDownload
    </procedure>
    <!--end-->
    <!--Process Runner自动抓取这些订单并进行处理-->
    <procedure id="GC_Interface_ProcessRunner_PurchaseOrder" parameterMap="GC_Interface_ProcessRunner_PurchaseOrder_ParameterMap">
      dbo.GC_Interface_ProcessRunner_PurchaseOrder
    </procedure>
  </statements>
</sqlMap>
