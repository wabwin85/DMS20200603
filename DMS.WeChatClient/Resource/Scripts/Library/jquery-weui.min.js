(function(n){"use strict";n.fn.transitionEnd=function(n){function u(f){if(f.target===this)for(n.call(this,f),t=0;t<i.length;t++)r.off(i[t],u)}var i=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],t,r=this;if(n)for(t=0;t<i.length;t++)r.on(i[t],u);return this};n.support=function(){return{touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)}}();n.touchEvents={start:n.support.touch?"touchstart":"mousedown",move:n.support.touch?"touchmove":"mousemove",end:n.support.touch?"touchend":"mouseup"};n.getTouchPosition=function(n){return n=n.originalEvent||n,n.type==="touchstart"||n.type==="touchmove"||n.type==="touchend"?{x:n.targetTouches[0].pageX,y:n.targetTouches[0].pageY}:{x:n.pageX,y:n.pageY}};n.fn.scrollHeight=function(){return this[0].scrollHeight};n.fn.transform=function(n){for(var t,i=0;i<this.length;i++)t=this[i].style,t.webkitTransform=t.MsTransform=t.msTransform=t.MozTransform=t.OTransform=t.transform=n;return this};n.fn.transition=function(n){var i,t;for(typeof n!="string"&&(n=n+"ms"),i=0;i<this.length;i++)t=this[i].style,t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=n;return this};n.getTranslate=function(n,t){var r,f,i,u;return typeof t=="undefined"&&(t="x"),i=window.getComputedStyle(n,null),window.WebKitCSSMatrix?u=new WebKitCSSMatrix(i.webkitTransform==="none"?"":i.webkitTransform):(u=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=u.toString().split(",")),t==="x"&&(f=window.WebKitCSSMatrix?u.m41:r.length===16?parseFloat(r[12]):parseFloat(r[4])),t==="y"&&(f=window.WebKitCSSMatrix?u.m42:r.length===16?parseFloat(r[13]):parseFloat(r[5])),f||0};n.requestAnimationFrame=function(n){return window.requestAnimationFrame?window.requestAnimationFrame(n):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(n):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(n):window.setTimeout(n,1e3/60)};n.cancelAnimationFrame=function(n){return window.cancelAnimationFrame?window.cancelAnimationFrame(n):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(n):window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(n):window.clearTimeout(n)};n.fn.join=function(n){return this.toArray().join(n)}})($);+function(n){"use strict";n.Template7=n.t7=function(){function r(n){return Object.prototype.toString.apply(n)==="[object Array]"}function i(n){return typeof n=="function"}function u(n){for(var u=n.replace(/[{}#}]/g,"").split(" "),e=[],f,t,i,h,r=0;r<u.length;r++)if(i=u[r],r===0)e.push(i);else if(i.indexOf('"')===0)if(i.match(/"/g).length===2)e.push(i);else{for(f=0,t=r+1;t<u.length;t++)if(i+=" "+u[t],u[t].indexOf('"')>=0){f=t;e.push(i);break}f&&(r=f)}else if(i.indexOf("=")>0){var s=i.split("="),c=s[0],o=s[1];if(o.match(/"/g).length!==2){for(f=0,t=r+1;t<u.length;t++)if(o+=" "+u[t],u[t].indexOf('"')>=0){f=t;break}f&&(r=f)}h=[c,o.replace(/"/g,"")];e.push(h)}else e.push(i);return e}function f(n){var s=[],e,t,i,f,o;if(!n)return[];for(i=n.split(/({{[^{^}]*}})/),e=0;e<i.length;e++)if(f=i[e],f!=="")if(f.indexOf("{{")<0)s.push({type:"plain",content:f});else{if(f.indexOf("{/")>=0)continue;if(f.indexOf("{#")<0&&f.indexOf(" ")<0&&f.indexOf("else")<0){s.push({type:"variable",contextName:f.replace(/[{}]/g,"")});continue}var v=u(f),c=v[0],y=[],p={};for(t=1;t<v.length;t++)o=v[t],r(o)?p[o[0]]=o[1]==="false"?!1:o[1]:y.push(o);if(f.indexOf("{#")>=0){var g=e,l="",a="",w=0,b,d=!1,h=!1,k=0;for(t=e+1;t<i.length;t++)if(i[t].indexOf("{{#")>=0&&k++,i[t].indexOf("{{/")>=0&&k--,i[t].indexOf("{{#"+c)>=0)l+=i[t],h&&(a+=i[t]),w++;else if(i[t].indexOf("{{/"+c)>=0)if(w>0)w--,l+=i[t],h&&(a+=i[t]);else{b=t;d=!0;break}else i[t].indexOf("else")>=0&&k===0?h=!0:(h||(l+=i[t]),h&&(a+=i[t]));d&&(b&&(e=b),s.push({type:"helper",helperName:c,contextName:y,content:l,inverseContent:a,hash:p}))}else f.indexOf(" ")>0&&s.push({type:"helper",helperName:c,contextName:y,hash:p})}return s}var n=function(n){function i(n,t){return n.content?e(n.content,t):function(){return""}}function r(n,t){return n.inverseContent?e(n.inverseContent,t):function(){return""}}function u(n,t){var r,u,e=0,s=t,o,f,i;for(n.indexOf("../")===0?(e=n.split("../").length-1,o=t.split("_")[1]-e,t="ctx_"+(o>=1?o:1),u=n.split("../")[e].split(".")):n.indexOf("@global")===0?(t="$.Template7.global",u=n.split("@global.")[1].split(".")):n.indexOf("@root")===0?(t="ctx_1",u=n.split("@root.")[1].split(".")):u=n.split("."),r=t,f=0;f<u.length;f++)i=u[f],i.indexOf("@")===0?f>0?r+="[(data && data."+i.replace("@","")+")]":r="(data && data."+n.replace("@","")+")":isFinite(i)?r+="["+i+"]":i.indexOf("this")===0?r=i.replace("this",t):r+="."+i;return r}function o(n,t){for(var r=[],i=0;i<n.length;i++)n[i].indexOf('"')===0?r.push(n[i]):r.push(u(n[i],t));return r.join(", ")}function e(n,e){var a,c,h,v,s,l,y;if(e=e||1,n=n||t.template,typeof n!="string")throw new Error("Template7: Template must be a string");if(a=f(n),a.length===0)return function(){return""};for(c="ctx_"+e,h="(function ("+c+", data) {\n",e===1&&(h+="function isArray(arr){return Object.prototype.toString.apply(arr) === '[object Array]';}\n",h+="function isFunction(func){return (typeof func === 'function');}\n",h+='function c(val, ctx) {if (typeof val !== "undefined") {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n'),h+="var r = '';\n",v=0;v<a.length;v++){if(s=a[v],s.type==="plain"){h+="r +='"+s.content.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")+"';";continue}if(s.type==="variable"&&(l=u(s.contextName,c),h+="r += c("+l+", "+c+");"),s.type==="helper")if(s.helperName in t.helpers)y=o(s.contextName,c),h+="r += ($.Template7.helpers."+s.helperName+").call("+c+", "+(y&&y+", ")+"{hash:"+JSON.stringify(s.hash)+", data: data || {}, fn: "+i(s,e+1)+", inverse: "+r(s,e+1)+", root: ctx_1});";else if(s.contextName.length>0)throw new Error('Template7: Missing helper: "'+s.helperName+'"');else l=u(s.helperName,c),h+="if ("+l+") {",h+="if (isArray("+l+")) {",h+="r += ($.Template7.helpers.each).call("+c+", "+l+", {hash:"+JSON.stringify(s.hash)+", data: data || {}, fn: "+i(s,e+1)+", inverse: "+r(s,e+1)+", root: ctx_1});",h+="}else {",h+="r += ($.Template7.helpers.with).call("+c+", "+l+", {hash:"+JSON.stringify(s.hash)+", data: data || {}, fn: "+i(s,e+1)+", inverse: "+r(s,e+1)+", root: ctx_1});",h+="}}"}return h+="\nreturn r;})",eval.call(window,h)}var t=this;t.template=n;t.compile=function(n){return t.compiled||(t.compiled=e(n)),t.compiled}},t;return n.prototype={options:{},helpers:{"if":function(n,t){return i(n)&&(n=n.call(this)),n?t.fn(this,t.data):t.inverse(this,t.data)},unless:function(n,t){return i(n)&&(n=n.call(this)),n?t.inverse(this,t.data):t.fn(this,t.data)},each:function(n,t){var f="",u=0,e;if(i(n)&&(n=n.call(this)),r(n)){for(t.hash.reverse&&(n=n.reverse()),u=0;u<n.length;u++)f+=t.fn(n[u],{first:u===0,last:u===n.length-1,index:u});t.hash.reverse&&(n=n.reverse())}else for(e in n)u++,f+=t.fn(n[e],{key:e});return u>0?f:t.inverse(this)},"with":function(n,t){return i(n)&&(n=n.call(this)),t.fn(n)},join:function(n,t){return i(n)&&(n=n.call(this)),n.join(t.hash.delimiter||t.hash.delimeter)},js:function(n){var t;return t=n.indexOf("return")>=0?"(function(){"+n+"})":"(function(){return ("+n+")})",eval.call(this,t).call(this)},js_compare:function(n,t){var i,r;return i=n.indexOf("return")>=0?"(function(){"+n+"})":"(function(){return ("+n+")})",r=eval.call(this,i).call(this),r?t.fn(this,t.data):t.inverse(this,t.data)}}},t=function(t,i){if(arguments.length===2){var r=new n(t),u=r.compile()(i);return r=null,u}return new n(t)},t.registerHelper=function(t,i){n.prototype.helpers[t]=i},t.unregisterHelper=function(t){n.prototype.helpers[t]=undefined;delete n.prototype.helpers[t]},t.compile=function(t,i){var r=new n(t,i);return r.compile()},t.options=n.prototype.options,t.helpers=n.prototype.helpers,t}()}($),function(n,t,i,r){"use strict";function ci(n,t,i){return setTimeout(ai(n,i),t)}function ut(n,t,i){return Array.isArray(n)?(v(n,i[t],i),!0):!1}function v(n,t,i){var u;if(n)if(n.forEach)n.forEach(t,i);else if(n.length!==r)for(u=0;u<n.length;)t.call(i,n[u],u,n),u++;else for(u in n)n.hasOwnProperty(u)&&t.call(i,n[u],u,n)}function or(t,i,r){var u="DEPRECATED METHOD: "+i+"\n"+r+" AT \n";return function(){var i=new Error("get-stack-trace"),f=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=n.console&&(n.console.warn||n.console.log);return r&&r.call(n.console,u,f),t.apply(this,arguments)}}function o(n,t,i){var u=t.prototype,r;r=n.prototype=Object.create(u);r.constructor=n;r._super=u;i&&y(r,i)}function ai(n,t){return function(){return n.apply(t,arguments)}}function vi(n,t){return typeof n==bu?n.apply(t?t[0]||r:r,t):n}function hr(n,t){return n===r?t:n}function pt(n,t,i){v(bt(t),function(t){n.addEventListener(t,i,!1)})}function wt(n,t,i){v(bt(t),function(t){n.removeEventListener(t,i,!1)})}function cr(n,t){while(n){if(n==t)return!0;n=n.parentNode}return!1}function g(n,t){return n.indexOf(t)>-1}function bt(n){return n.trim().split(/\s+/g)}function ft(n,t,i){if(n.indexOf&&!i)return n.indexOf(t);for(var r=0;r<n.length;){if(i&&n[r][i]==t||!i&&n[r]===t)return r;r++}return-1}function kt(n){return Array.prototype.slice.call(n,0)}function lr(n,t,i){for(var u=[],e=[],r=0,f;r<n.length;)f=t?n[r][t]:n[r],ft(e,f)<0&&u.push(n[r]),e[r]=f,r++;return i&&(u=t?u.sort(function(n,i){return n[t]>i[t]}):u.sort()),u}function dt(n,t){for(var i,u,e=t[0].toUpperCase()+t.slice(1),f=0;f<er.length;){if(i=er[f],u=i?i+e:t,u in n)return u;f++}return r}function ku(){return ar++}function vr(t){var i=t.ownerDocument||t;return i.defaultView||i.parentWindow||n}function s(n,t){var i=this;this.manager=n;this.callback=t;this.element=n.element;this.target=n.options.inputTarget;this.domHandler=function(t){vi(n.options.enable,[n])&&i.handler(t)};this.init()}function tf(n){var t,i=n.options.inputClass;return t=i?i:du?wi:gu?ri:yr?ki:ii,new t(n,rf)}function rf(n,t,i){var r=i.pointers.length,o=i.changedPointers.length,s=t&f&&r-o==0,h=t&(u|e)&&r-o==0;i.isFirst=!!s;i.isFinal=!!h;s&&(n.session={});i.eventType=t;uf(n,i);n.emit("hammer.input",i);n.recognize(i);n.session.prevInput=i}function uf(n,t){var i=n.session,f=t.pointers,o=f.length,r,e;i.firstInput||(i.firstInput=br(t));o>1&&!i.firstMultiple?i.firstMultiple=br(t):o===1&&(i.firstMultiple=!1);var s=i.firstInput,u=i.firstMultiple,h=u?u.center:s.center,c=t.center=kr(f);t.timeStamp=hi();t.deltaTime=t.timeStamp-s.timeStamp;t.angle=pi(h,c);t.distance=ti(h,c);ff(i,t);t.offsetDirection=gr(t.deltaX,t.deltaY);r=dr(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=r.x;t.overallVelocityY=r.y;t.overallVelocity=d(r.x)>d(r.y)?r.x:r.y;t.scale=u?sf(u.pointers,f):1;t.rotation=u?of(u.pointers,f):0;t.maxPointers=i.prevInput?t.pointers.length>i.prevInput.maxPointers?t.pointers.length:i.prevInput.maxPointers:t.pointers.length;ef(i,t);e=n.element;cr(t.srcEvent.target,e)&&(e=t.srcEvent.target);t.target=e}function ff(n,t){var i=t.center,r=n.offsetDelta||{},e=n.prevDelta||{},o=n.prevInput||{};(t.eventType===f||o.eventType===u)&&(e=n.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=n.offsetDelta={x:i.x,y:i.y});t.deltaX=e.x+(i.x-r.x);t.deltaY=e.y+(i.y-r.y)}function ef(n,t){var i=n.lastInterval||t,c=t.timeStamp-i.timeStamp,f,o,s,h;if(t.eventType!=e&&(c>nf||i.velocity===r)){var l=t.deltaX-i.deltaX,a=t.deltaY-i.deltaY,u=dr(c,l,a);o=u.x;s=u.y;f=d(u.x)>d(u.y)?u.x:u.y;h=gr(l,a);n.lastInterval=t}else f=i.velocity,o=i.velocityX,s=i.velocityY,h=i.direction;t.velocity=f;t.velocityX=o;t.velocityY=s;t.direction=h}function br(n){for(var i=[],t=0;t<n.pointers.length;)i[t]={clientX:rt(n.pointers[t].clientX),clientY:rt(n.pointers[t].clientY)},t++;return{timeStamp:hi(),pointers:i,center:kr(i),deltaX:n.deltaX,deltaY:n.deltaY}}function kr(n){var t=n.length;if(t===1)return{x:rt(n[0].clientX),y:rt(n[0].clientY)};for(var r=0,u=0,i=0;i<t;)r+=n[i].clientX,u+=n[i].clientY,i++;return{x:rt(r/t),y:rt(u/t)}}function dr(n,t,i){return{x:t/n||0,y:i/n||0}}function gr(n,t){return n===t?gt:d(n)>=d(t)?n<0?st:ht:t<0?ct:lt}function ti(n,t,i){i||(i=wr);var r=t[i[0]]-n[i[0]],u=t[i[1]]-n[i[1]];return Math.sqrt(r*r+u*u)}function pi(n,t,i){i||(i=wr);var r=t[i[0]]-n[i[0]],u=t[i[1]]-n[i[1]];return Math.atan2(u,r)*180/Math.PI}function of(n,t){return pi(t[1],t[0],ni)+pi(n[1],n[0],ni)}function sf(n,t){return ti(t[0],t[1],ni)/ti(n[0],n[1],ni)}function ii(){this.evEl=cf;this.evWin=lf;this.pressed=!1;s.apply(this,arguments)}function wi(){this.evEl=nu;this.evWin=tu;s.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}function iu(){this.evTarget=pf;this.evWin=wf;this.started=!1;s.apply(this,arguments)}function bf(n,t){var i=kt(n.touches),r=kt(n.changedTouches);return t&(u|e)&&(i=lr(i.concat(r),"identifier",!0)),[i,r]}function ri(){this.evTarget=uu;this.targetIds={};s.apply(this,arguments)}function kf(n,t){var r=kt(n.touches),o=this.targetIds;if(t&(f|nt)&&r.length===1)return o[r[0].identifier]=!0,[r,r];var i,s,h=kt(n.changedTouches),c=[],l=this.target;if(s=r.filter(function(n){return cr(n.target,l)}),t===f)for(i=0;i<s.length;)o[s[i].identifier]=!0,i++;for(i=0;i<h.length;)o[h[i].identifier]&&c.push(h[i]),t&(u|e)&&delete o[h[i].identifier],i++;if(c.length)return[lr(s.concat(c),"identifier",!0),c]}function ki(){s.apply(this,arguments);var n=ai(this.handler,this);this.touch=new ri(this.manager,n);this.mouse=new ii(this.manager,n);this.primaryTouch=null;this.lastTouches=[]}function df(n,t){n&f?(this.primaryTouch=t.changedPointers[0].identifier,eu.call(this,t)):n&(u|e)&&eu.call(this,t)}function eu(n){var t=n.changedPointers[0],i,r,u;t.identifier===this.primaryTouch&&(i={x:t.clientX,y:t.clientY},this.lastTouches.push(i),r=this.lastTouches,u=function(){var n=r.indexOf(i);n>-1&&r.splice(n,1)},setTimeout(u,fu))}function gf(n){for(var r=n.srcEvent.clientX,u=n.srcEvent.clientY,t=0;t<this.lastTouches.length;t++){var i=this.lastTouches[t],f=Math.abs(r-i.x),e=Math.abs(u-i.y);if(f<=bi&&e<=bi)return!0}return!1}function gi(n,t){this.manager=n;this.set(t)}function ne(n){if(g(n,it))return it;var t=g(n,at),i=g(n,vt);return t&&i?it:t||i?t?at:vt:g(n,di)?di:cu}function te(){if(!su)return!1;var t={},i=n.CSS&&n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){t[r]=i?n.CSS.supports("touch-action",r):!0}),t}function w(n){this.options=y({},this.defaults,n||{});this.id=ku();this.manager=null;this.options.enable=hr(this.options.enable,!0);this.state=fi;this.simultaneous={};this.requireFail=[]}function lu(n){return n&yt?"cancel":n&k?"end":n&et?"move":n&h?"start":""}function au(n){return n==lt?"down":n==ct?"up":n==st?"left":n==ht?"right":""}function ei(n,t){var i=t.manager;return i?i.get(n):n}function c(){w.apply(this,arguments)}function oi(){c.apply(this,arguments);this.pX=null;this.pY=null}function nr(){c.apply(this,arguments)}function tr(){w.apply(this,arguments);this._timer=null;this._input=null}function ir(){c.apply(this,arguments)}function rr(){c.apply(this,arguments)}function si(){w.apply(this,arguments);this.pTime=!1;this.pCenter=!1;this._timer=null;this._input=null;this.count=0}function b(n,t){return t=t||{},t.recognizers=hr(t.recognizers,b.defaults.preset),new fr(n,t)}function fr(n,t){this.options=y({},b.defaults,t||{});this.options.inputTarget=this.options.inputTarget||n;this.handlers={};this.session={};this.recognizers=[];this.oldCssProps={};this.element=n;this.input=tf(this);this.touchAction=new gi(this,this.options.touchAction);yu(this,!0);v(this.options.recognizers,function(n){var t=this.add(new n[0](n[1]));n[2]&&t.recognizeWith(n[2]);n[3]&&t.requireFailure(n[3])},this)}function yu(n,t){var r=n.element,i;r.style&&(v(n.options.cssProps,function(u,f){i=dt(r.style,f);t?(n.oldCssProps[i]=r.style[i],r.style[i]=u):r.style[i]=n.oldCssProps[i]||""}),t||(n.oldCssProps={}))}function ie(n,i){var r=t.createEvent("Event");r.initEvent(n,!0,!0);r.gesture=i;i.target.dispatchEvent(r)}var er=["","webkit","Moz","MS","ms","o"],wu=t.createElement("div"),bu="function",rt=Math.round,d=Math.abs,hi=Date.now,y,li,sr,ar,ru,uu,fu,bi,vu,ur,pu;y=typeof Object.assign!="function"?function(n){var f,i,t,u;if(n===r||n===null)throw new TypeError("Cannot convert undefined or null to object");for(f=Object(n),i=1;i<arguments.length;i++)if(t=arguments[i],t!==r&&t!==null)for(u in t)t.hasOwnProperty(u)&&(f[u]=t[u]);return f}:Object.assign;li=or(function(n,t,i){for(var f=Object.keys(t),u=0;u<f.length;)(!i||i&&n[f[u]]===r)&&(n[f[u]]=t[f[u]]),u++;return n},"extend","Use `assign`.");sr=or(function(n,t){return li(n,t,!0)},"merge","Use `assign`.");ar=1;var yr="ontouchstart"in n,du=dt(n,"PointerEvent")!==r,gu=yr&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ot="touch",yi="mouse",nf=25,f=1,nt=2,u=4,e=8,gt=1,st=2,ht=4,ct=8,lt=16,l=st|ht,tt=ct|lt,pr=l|tt,wr=["x","y"],ni=["clientX","clientY"];s.prototype={handler:function(){},init:function(){this.evEl&&pt(this.element,this.evEl,this.domHandler);this.evTarget&&pt(this.target,this.evTarget,this.domHandler);this.evWin&&pt(vr(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&wt(this.element,this.evEl,this.domHandler);this.evTarget&&wt(this.target,this.evTarget,this.domHandler);this.evWin&&wt(vr(this.element),this.evWin,this.domHandler)}};var hf={mousedown:f,mousemove:nt,mouseup:u},cf="mousedown",lf="mousemove mouseup";o(ii,s,{handler:function(n){var t=hf[n.type];(t&f&&n.button===0&&(this.pressed=!0),t&nt&&n.which!==1&&(t=u),this.pressed)&&(t&u&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[n],changedPointers:[n],pointerType:yi,srcEvent:n}))}});var af={pointerdown:f,pointermove:nt,pointerup:u,pointercancel:e,pointerout:e},vf={2:ot,3:"pen",4:yi,5:"kinect"},nu="pointerdown",tu="pointermove pointerup pointercancel";n.MSPointerEvent&&!n.PointerEvent&&(nu="MSPointerDown",tu="MSPointerMove MSPointerUp MSPointerCancel");o(wi,s,{handler:function(n){var t=this.store,o=!1,h=n.type.toLowerCase().replace("ms",""),r=af[h],s=vf[n.pointerType]||n.pointerType,c=s==ot,i=ft(t,n.pointerId,"pointerId");(r&f&&(n.button===0||c)?i<0&&(t.push(n),i=t.length-1):r&(u|e)&&(o=!0),i<0)||(t[i]=n,this.callback(this.manager,r,{pointers:t,changedPointers:[n],pointerType:s,srcEvent:n}),o&&t.splice(i,1))}});var yf={touchstart:f,touchmove:nt,touchend:u,touchcancel:e},pf="touchstart",wf="touchstart touchmove touchend touchcancel";o(iu,s,{handler:function(n){var i=yf[n.type],t;(i===f&&(this.started=!0),this.started)&&(t=bf.call(this,n,i),i&(u|e)&&t[0].length-t[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:t[0],changedPointers:t[1],pointerType:ot,srcEvent:n}))}});ru={touchstart:f,touchmove:nt,touchend:u,touchcancel:e};uu="touchstart touchmove touchend touchcancel";o(ri,s,{handler:function(n){var i=ru[n.type],t=kf.call(this,n,i);t&&this.callback(this.manager,i,{pointers:t[0],changedPointers:t[1],pointerType:ot,srcEvent:n})}});fu=2500;bi=25;o(ki,s,{handler:function(n,t,i){var u=i.pointerType==ot,r=i.pointerType==yi;if(!r||!i.sourceCapabilities||!i.sourceCapabilities.firesTouchEvents){if(u)df.call(this,t,i);else if(r&&gf.call(this,i))return;this.callback(n,t,i)}},destroy:function(){this.touch.destroy();this.mouse.destroy()}});var ou=dt(wu.style,"touchAction"),su=ou!==r,hu="compute",cu="auto",di="manipulation",it="none",at="pan-x",vt="pan-y",ui=te();gi.prototype={set:function(n){n==hu&&(n=this.compute());su&&this.manager.element.style&&ui[n]&&(this.manager.element.style[ou]=n);this.actions=n.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var n=[];return v(this.manager.recognizers,function(t){vi(t.options.enable,[t])&&(n=n.concat(t.getTouchAction()))}),ne(n.join(" "))},preventDefaults:function(n){var i=n.srcEvent,r=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var t=this.actions,u=g(t,it)&&!ui[it],f=g(t,vt)&&!ui[vt],e=g(t,at)&&!ui[at];if(u){var o=n.pointers.length===1,s=n.distance<2,h=n.deltaTime<250;if(o&&s&&h)return}if(!e||!f)return u||f&&r&l||e&&r&tt?this.preventSrc(i):void 0},preventSrc:function(n){this.manager.session.prevented=!0;n.preventDefault()}};var fi=1,h=2,et=4,k=8,p=k,yt=16,a=32;w.prototype={defaults:{},set:function(n){return y(this.options,n),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(n){if(ut(n,"recognizeWith",this))return this;var t=this.simultaneous;return n=ei(n,this),t[n.id]||(t[n.id]=n,n.recognizeWith(this)),this},dropRecognizeWith:function(n){return ut(n,"dropRecognizeWith",this)?this:(n=ei(n,this),delete this.simultaneous[n.id],this)},requireFailure:function(n){if(ut(n,"requireFailure",this))return this;var t=this.requireFail;return n=ei(n,this),ft(t,n)===-1&&(t.push(n),n.requireFailure(this)),this},dropRequireFailure:function(n){if(ut(n,"dropRequireFailure",this))return this;n=ei(n,this);var t=ft(this.requireFail,n);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(n){return!!this.simultaneous[n.id]},emit:function(n){function r(i){t.manager.emit(i,n)}var t=this,i=this.state;i<k&&r(t.options.event+lu(i));r(t.options.event);n.additionalEvent&&r(n.additionalEvent);i>=k&&r(t.options.event+lu(i))},tryEmit:function(n){if(this.canEmit())return this.emit(n);this.state=a},canEmit:function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(a|fi)))return!1;n++}return!0},recognize:function(n){var t=y({},n);if(!vi(this.options.enable,[this,t])){this.reset();this.state=a;return}this.state&(p|yt|a)&&(this.state=fi);this.state=this.process(t);this.state&(h|et|k|yt)&&this.tryEmit(t)},process:function(){},getTouchAction:function(){},reset:function(){}};o(c,w,{defaults:{pointers:1},attrTest:function(n){var t=this.options.pointers;return t===0||n.pointers.length===t},process:function(n){var t=this.state,i=n.eventType,r=t&(h|et),f=this.attrTest(n);return r&&(i&e||!f)?t|yt:r||f?i&u?t|k:(t&h)?t|et:h:a}});o(oi,c,{defaults:{event:"pan",threshold:10,pointers:1,direction:pr},getTouchAction:function(){var t=this.options.direction,n=[];return t&l&&n.push(vt),t&tt&&n.push(at),n},directionTest:function(n){var i=this.options,r=!0,u=n.distance,t=n.direction,f=n.deltaX,e=n.deltaY;return t&i.direction||(i.direction&l?(t=f===0?gt:f<0?st:ht,r=f!=this.pX,u=Math.abs(n.deltaX)):(t=e===0?gt:e<0?ct:lt,r=e!=this.pY,u=Math.abs(n.deltaY))),n.direction=t,r&&u>i.threshold&&t&i.direction},attrTest:function(n){return c.prototype.attrTest.call(this,n)&&(this.state&h||!(this.state&h)&&this.directionTest(n))},emit:function(n){this.pX=n.deltaX;this.pY=n.deltaY;var t=au(n.direction);t&&(n.additionalEvent=this.options.event+t);this._super.emit.call(this,n)}});o(nr,c,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[it]},attrTest:function(n){return this._super.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&h)},emit:function(n){if(n.scale!==1){var t=n.scale<1?"in":"out";n.additionalEvent=this.options.event+t}this._super.emit.call(this,n)}});o(tr,w,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[cu]},process:function(n){var t=this.options,i=n.pointers.length===t.pointers,r=n.distance<t.threshold,o=n.deltaTime>t.time;if(this._input=n,!r||!i||n.eventType&(u|e)&&!o)this.reset();else if(n.eventType&f)this.reset(),this._timer=ci(function(){this.state=p;this.tryEmit()},t.time,this);else if(n.eventType&u)return p;return a},reset:function(){clearTimeout(this._timer)},emit:function(n){this.state===p&&(n&&n.eventType&u?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=hi(),this.manager.emit(this.options.event,this._input)))}});o(ir,c,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[it]},attrTest:function(n){return this._super.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&h)}});o(rr,c,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:l|tt,pointers:1},getTouchAction:function(){return oi.prototype.getTouchAction.call(this)},attrTest:function(n){var t=this.options.direction,i;return t&(l|tt)?i=n.overallVelocity:t&l?i=n.overallVelocityX:t&tt&&(i=n.overallVelocityY),this._super.attrTest.call(this,n)&&t&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers==this.options.pointers&&d(i)>this.options.velocity&&n.eventType&u},emit:function(n){var t=au(n.offsetDirection);t&&this.manager.emit(this.options.event+t,n);this.manager.emit(this.options.event,n)}});o(si,w,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[di]},process:function(n){var t=this.options,o=n.pointers.length===t.pointers,s=n.distance<t.threshold,c=n.deltaTime<t.time,i,r,e;if(this.reset(),n.eventType&f&&this.count===0)return this.failTimeout();if(s&&c&&o){if(n.eventType!=u)return this.failTimeout();if(i=this.pTime?n.timeStamp-this.pTime<t.interval:!0,r=!this.pCenter||ti(this.pCenter,n.center)<t.posThreshold,this.pTime=n.timeStamp,this.pCenter=n.center,r&&i?this.count+=1:this.count=1,this._input=n,e=this.count%t.taps,e===0)return this.hasRequireFailures()?(this._timer=ci(function(){this.state=p;this.tryEmit()},t.interval,this),h):p}return a},failTimeout:function(){return this._timer=ci(function(){this.state=a},this.options.interval,this),a},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==p&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});b.VERSION="2.0.8";b.defaults={domEvents:!1,touchAction:hu,enable:!0,inputTarget:null,inputClass:null,preset:[[ir,{enable:!1}],[nr,{enable:!1},["rotate"]],[rr,{direction:l}],[oi,{direction:l},["swipe"]],[si],[si,{event:"doubletap",taps:2},["tap"]],[tr]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};vu=1;ur=2;fr.prototype={set:function(n){return y(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},stop:function(n){this.session.stopped=n?ur:vu},recognize:function(n){var r=this.session,i,f,t,u;if(!r.stopped)for(this.touchAction.preventDefaults(n),f=this.recognizers,t=r.curRecognizer,(!t||t&&t.state&p)&&(t=r.curRecognizer=null),u=0;u<f.length;)i=f[u],r.stopped!==ur&&(!t||i==t||i.canRecognizeWith(t))?i.recognize(n):i.reset(),!t&&i.state&(h|et|k)&&(t=r.curRecognizer=i),u++},get:function(n){var i,t;if(n instanceof w)return n;for(i=this.recognizers,t=0;t<i.length;t++)if(i[t].options.event==n)return i[t];return null},add:function(n){if(ut(n,"add",this))return this;var t=this.get(n.options.event);return t&&this.remove(t),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},remove:function(n){if(ut(n,"remove",this))return this;if(n=this.get(n),n){var t=this.recognizers,i=ft(t,n);i!==-1&&(t.splice(i,1),this.touchAction.update())}return this},on:function(n,t){if(n!==r&&t!==r){var i=this.handlers;return v(bt(n),function(n){i[n]=i[n]||[];i[n].push(t)}),this}},off:function(n,t){if(n!==r){var i=this.handlers;return v(bt(n),function(n){t?i[n]&&i[n].splice(ft(i[n],t),1):delete i[n]}),this}},emit:function(n,t){var i,r;if(this.options.domEvents&&ie(n,t),i=this.handlers[n]&&this.handlers[n].slice(),i&&i.length)for(t.type=n,t.preventDefault=function(){t.srcEvent.preventDefault()},r=0;r<i.length;)i[r](t),r++},destroy:function(){this.element&&yu(this,!1);this.handlers={};this.session={};this.input.destroy();this.element=null}};y(b,{INPUT_START:f,INPUT_MOVE:nt,INPUT_END:u,INPUT_CANCEL:e,STATE_POSSIBLE:fi,STATE_BEGAN:h,STATE_CHANGED:et,STATE_ENDED:k,STATE_RECOGNIZED:p,STATE_CANCELLED:yt,STATE_FAILED:a,DIRECTION_NONE:gt,DIRECTION_LEFT:st,DIRECTION_RIGHT:ht,DIRECTION_UP:ct,DIRECTION_DOWN:lt,DIRECTION_HORIZONTAL:l,DIRECTION_VERTICAL:tt,DIRECTION_ALL:pr,Manager:fr,Input:s,TouchAction:gi,TouchInput:ri,MouseInput:ii,PointerEventInput:wi,TouchMouseInput:ki,SingleTouchInput:iu,Recognizer:w,AttrRecognizer:c,Tap:si,Pan:oi,Swipe:rr,Pinch:nr,Rotate:ir,Press:tr,on:pt,off:wt,each:v,merge:sr,extend:li,assign:y,inherit:o,bindFn:ai,prefixed:dt});pu=typeof n!="undefined"?n:typeof self!="undefined"?self:{};pu.Hammer=b;typeof define=="function"&&define.amd?define(function(){return b}):typeof module!="undefined"&&module.exports?module.exports=b:n[i]=b}(window,document,"Hammer");+function(n){"use strict";var t;n.modal=function(i,r){i=n.extend({},t,i);var u=i.buttons,e=u.map(function(n){return'<a href="javascript:;" class="weui_btn_dialog '+(n.className||"")+'">'+n.text+"<\/a>"}).join(""),o='<div class="weui_dialog"><div class="weui_dialog_hd"><strong class="weui_dialog_title">'+i.title+"<\/strong><\/div>"+(i.text?'<div class="weui_dialog_bd">'+i.text+"<\/div>":"")+'<div class="weui_dialog_ft">'+e+"<\/div><\/div>",f=n.openModal(o,r);return f.find(".weui_btn_dialog").each(function(t,r){var e=n(r);e.click(function(){i.autoClose&&n.closeModal();u[t].onClick&&u[t].onClick.call(f)})}),f};n.openModal=function(t,i){var u=n("<div class='weui_mask'><\/div>").appendTo(document.body),r;return u.show(),r=n(t).appendTo(document.body),i&&r.transitionEnd(function(){i.call(r)}),r.show(),u.addClass("weui_mask_visible"),r.addClass("weui_dialog_visible"),r};n.closeModal=function(){n(".weui_mask_visible").removeClass("weui_mask_visible").transitionEnd(function(){n(this).remove()});n(".weui_dialog_visible").removeClass("weui_dialog_visible").transitionEnd(function(){n(this).remove()})};n.alert=function(i,r,u){var f;return typeof i=="object"?f=i:(typeof r=="function"&&(u=arguments[1],r=undefined),f={text:i,title:r,onOK:u}),n.modal({text:f.text,title:f.title,buttons:[{text:t.buttonOK,className:"primary",onClick:f.onOK}]})};n.confirm=function(i,r,u,f){var e;return typeof i=="object"?e=i:(typeof r=="function"&&(f=arguments[2],u=arguments[1],r=undefined),e={text:i,title:r,onOK:u,onCancel:f}),n.modal({text:e.text,title:e.title,buttons:[{text:t.buttonCancel,className:"default",onClick:e.onCancel},{text:t.buttonOK,className:"primary",onClick:e.onOK}]})};n.prompt=function(i,r,u,f,e){var o,s;return typeof i=="object"?o=i:(typeof r=="function"&&(e=arguments[3],f=arguments[2],u=arguments[1],r=undefined),o={text:i,title:r,input:e,onOK:u,onCancel:f,empty:!1}),s=n.modal({text:'<p class="weui-prompt-text">'+(o.text||"")+'<\/p><textarea rows="3" class="weui_input weui-prompt-input" id="weui-prompt-input" value="'+(o.input||"")+'" />',title:o.title,autoClose:!1,buttons:[{text:t.buttonCancel,className:"default",onClick:function(){n.closeModal();o.onCancel&&o.onCancel.call(s)}},{text:t.buttonOK,className:"primary",onClick:function(){var t=n("#weui-prompt-input").val();if(!o.empty&&(t===""||t===null))return s.find(".weui-prompt-input").focus()[0].select(),n.toptip("请输入"+o.title,"warning"),!1;n.closeModal();o.onOK&&o.onOK.call(s,t)}}]},function(){this.find(".weui-prompt-input").focus()[0].select();this.find(".weui-prompt-input").trigger("click");this.find(".weui-prompt-input").trigger("focus")})};n.login=function(i,r,u,f,e,o){var s,h;return typeof i=="object"?s=i:(typeof r=="function"&&(o=arguments[4],e=arguments[3],f=arguments[2],u=arguments[1],r=undefined),s={text:i,title:r,username:e,password:o,onOK:u,onCancel:f}),h=n.modal({text:'<p class="weui-prompt-text">'+(s.text||"")+'<\/p><input type="text" class="weui_input weui-prompt-input" id="weui-prompt-username" value="'+(s.username||"")+'" placeholder="输入用户名" /><input type="password" class="weui_input weui-prompt-input" id="weui-prompt-password" value="'+(s.password||"")+'" placeholder="输入密码" />',title:s.title,autoClose:!1,buttons:[{text:t.buttonCancel,className:"default",onClick:function(){n.closeModal();s.onCancel&&s.onCancel.call(h)}},{text:t.buttonOK,className:"primary",onClick:function(){var t=n("#weui-prompt-username").val(),i=n("#weui-prompt-password").val();if(!s.empty&&(t===""||t===null))return h.find("#weui-prompt-username").focus()[0].select(),!1;if(!s.empty&&(i===""||i===null))return h.find("#weui-prompt-password").focus()[0].select(),!1;n.closeModal();s.onOK&&s.onOK.call(h,t,i)}}]},function(){this.find("#weui-prompt-username").focus()[0].select()})};t=n.modal.prototype.defaults={title:"提示",text:undefined,buttonOK:"确定",buttonCancel:"取消",buttons:[{text:"确定",className:"primary"}],autoClose:!0}}($);+function(n){"use strict";var t=function(t,i){i=i||"";var f=n("<div class='weui_mask_transparent'><\/div>").appendTo(document.body),u='<div class="weui_toast '+i+'">'+t+"<\/div>",r=n(u).appendTo(document.body);r.show();r.addClass("weui_toast_visible")},i=function(t){n(".weui_mask_transparent").remove();n(".weui_toast_visible").removeClass("weui_toast_visible").transitionEnd(function(){var i=n(this);i.remove();t&&t(i)})},r;n.toast=function(n,u,f){typeof u=="function"&&(f=u);var e;u=="cancel"?e="weui_toast_cancel":u=="forbidden"?e="weui_toast_forbidden":u=="text"&&(e="weui_toast_text");t('<i class="weui_icon_toast"><\/i><p class="weui_toast_content">'+(n||"已经完成")+"<\/p>",e);setTimeout(function(){i(f)},r.duration)};n.showLoading=function(n){for(var i='<div class="weui_loading">',r=0;r<12;r++)i+='<div class="weui_loading_leaf weui_loading_leaf_'+r+'"><\/div>';i+="<\/div>";i+='<p class="weui_toast_content">'+(n||"数据加载中")+"<\/p>";t(i,"weui_loading_toast")};n.hideLoading=function(){i()};r=n.toast.prototype.defaults={duration:2e3}}($);+function(n){"use strict";var i=function(t){var u=n("<div class='weui_mask weui_actions_mask'><\/div>").appendTo(document.body),i=t.actions||[],o=i.map(function(n){return'<div class="weui_actionsheet_cell '+(n.className||"")+'">'+n.text+"<\/div>"}).join(""),f="",e,r;t.title&&(f='<div class="weui_actionsheet_title">'+t.title+"<\/div>");e='<div class="weui_actionsheet " id="weui_actionsheet">'+f+'<div class="weui_actionsheet_menu">'+o+'<\/div><div class="weui_actionsheet_action"><div class="weui_actionsheet_cell weui_actionsheet_cancel">取消<\/div><\/div><\/div>';r=n(e).appendTo(document.body);r.find(".weui_actionsheet_menu .weui_actionsheet_cell, .weui_actionsheet_action .weui_actionsheet_cell").each(function(r,u){n(u).click(function(){n.closeActions();t.onClose&&t.onClose();i[r]&&i[r].onClick&&i[r].onClick()})});u.show();r.show();u.addClass("weui_mask_visible");r.addClass("weui_actionsheet_toggle")},r=function(){n(".weui_mask").removeClass("weui_mask_visible").transitionEnd(function(){n(this).remove()});n(".weui_actionsheet").removeClass("weui_actionsheet_toggle").transitionEnd(function(){n(this).remove()})},t;n.actions=function(r){r=n.extend({},t,r);i(r)};n.closeActions=function(){r()};n(document).on("click",".weui_actions_mask",function(){n.closeActions()});t=n.actions.prototype.defaults={title:undefined,onClose:undefined}}($);+function(n){"use strict";var t=function(t){this.container=n(t);this.distance=50;this.attachEvents()},i,r;t.prototype.touchStart=function(t){if(!this.container.hasClass("refreshing")){var i=n.getTouchPosition(t);this.start=i;this.diffX=this.diffY=0}};t.prototype.touchMove=function(t){if(!this.container.hasClass("refreshing")){if(!this.start)return!1;if(!(this.container.scrollTop()>0)){var i=n.getTouchPosition(t);(this.diffX=i.x-this.start.x,this.diffY=i.y-this.start.y,this.diffY<0)||(this.container.addClass("touching"),t.preventDefault(),t.stopPropagation(),this.diffY=Math.pow(this.diffY,.8),this.container.css("transform","translate3d(0, "+this.diffY+"px, 0)"),this.diffY<this.distance?this.container.removeClass("pull-up").addClass("pull-down"):this.container.removeClass("pull-down").addClass("pull-up"))}}};t.prototype.touchEnd=function(){(this.start=!1,this.diffY<=0||this.container.hasClass("refreshing"))||(this.container.removeClass("touching"),this.container.removeClass("pull-down pull-up"),this.container.css("transform",""),Math.abs(this.diffY)<=this.distance||(this.container.addClass("refreshing"),this.container.trigger("pull-to-refresh")))};t.prototype.attachEvents=function(){var t=this.container;t.addClass("weui-pull-to-refresh");t.on(n.touchEvents.start,n.proxy(this.touchStart,this));t.on(n.touchEvents.move,n.proxy(this.touchMove,this));t.on(n.touchEvents.end,n.proxy(this.touchEnd,this))};i=function(n){new t(n)};r=function(t){n(t).removeClass("refreshing")};n.fn.pullToRefresh=function(){return this.each(function(){i(this)})};n.fn.pullToRefreshDone=function(){return this.each(function(){r(this)})}}($);+function(n){"use strict";var t=function(t,i){this.container=n(t);this.container.data("infinite",this);this.distance=i||50;this.attachEvents()},i;t.prototype.scroll=function(){var t=this.container,i=t.scrollHeight()-(n(window).height()+t.scrollTop());i<=this.distance&&t.trigger("infinite")};t.prototype.attachEvents=function(t){var i=this.container,r=i[0].tagName.toUpperCase()==="BODY"?n(document):i;r[t?"off":"on"]("scroll",n.proxy(this.scroll,this))};t.prototype.detachEvents=function(){this.attachEvents(!0)};i=function(n){attachEvents(n)};n.fn.infinite=function(n){return this.each(function(){new t(this,n)})};n.fn.destroyInfinite=function(){return this.each(function(){var t=n(this).data("infinite");t&&t.detachEvents&&t.detachEvents()})}}($);+function(n){"use strict";var t="weui_bar_item_on",i=function(i){var r=n(i),u,f;r.hasClass(t)||(u=r.attr("href"),/^#/.test(u))&&(r.parent().find("."+t).removeClass(t),r.addClass(t),f=r.parents(".weui_tab").find(".weui_tab_bd"),f.find(".weui_tab_bd_item_active").removeClass("weui_tab_bd_item_active"),n(u).addClass("weui_tab_bd_item_active"))};n.showTab=i;n(document).on("click",".weui_tabbar_item, .weui_navbar_item",function(r){var u=n(r.currentTarget),f=u.attr("href");u.hasClass(t)||/^#/.test(f)&&(r.preventDefault(),i(u))})}($);+function(n){"use strict";n(document).on("click",".weui_search_bar label",function(t){n(t.target).parents(".weui_search_bar").addClass("weui_search_focusing")}).on("blur",".weui_search_input",function(t){var i=n(t.target);i.val()||i.parents(".weui_search_bar").removeClass("weui_search_focusing")}).on("click",".weui_search_cancel",function(t){var i=n(t.target).parents(".weui_search_bar").removeClass("weui_search_focusing").find(".weui_search_input").val("").blur()}).on("click",".weui_icon_clear",function(t){var i=n(t.target).parents(".weui_search_bar").find(".weui_search_input").val("").focus()})}($),function(n){"use strict";var t={},i=navigator.userAgent,h=i.match(/(Android);?[\s\/]+([\d.]+)?/),f=i.match(/(iPad).*OS\s([\d_]+)/),u=i.match(/(iPod)(.*OS\s([\d_]+))?/),e=!f&&i.match(/(iPhone\sOS)\s([\d_]+)/),o,c,l,r,a,s;if(t.ios=t.android=t.iphone=t.ipad=t.androidChrome=!1,h&&(t.os="android",t.osVersion=h[2],t.android=!0,t.androidChrome=i.toLowerCase().indexOf("chrome")>=0),(f||e||u)&&(t.os="ios",t.ios=!0),e&&!u&&(t.osVersion=e[2].replace(/_/g,"."),t.iphone=!0),f&&(t.osVersion=f[2].replace(/_/g,"."),t.ipad=!0),u&&(t.osVersion=u[3]?u[3].replace(/_/g,"."):null,t.iphone=!0),t.ios&&t.osVersion&&i.indexOf("Version/")>=0&&t.osVersion.split(".")[0]==="10"&&(t.osVersion=i.toLowerCase().split("version/")[1].split(" ")[0]),t.webView=(e||f||u)&&i.match(/.*AppleWebKit(?!.*Safari)/i),t.os&&t.os==="ios"&&(o=t.osVersion.split("."),t.minimalUi=!t.webView&&(u||e)&&(o[0]*1==7?o[1]*1>=1:o[0]*1>7)&&n('meta[name="viewport"]').length>0&&n('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0),c=n(window).width(),l=n(window).height(),t.statusBar=!1,t.statusBar=t.webView&&c*l==screen.width*screen.height?!0:!1,r=[],t.pixelRatio=window.devicePixelRatio||1,r.push("pixel-ratio-"+Math.floor(t.pixelRatio)),t.pixelRatio>=2&&r.push("retina"),t.os&&(r.push(t.os,t.os+"-"+t.osVersion.split(".")[0],t.os+"-"+t.osVersion.replace(/\./g,"-")),t.os==="ios"))for(a=parseInt(t.osVersion.split(".")[0],10),s=a-1;s>=6;s--)r.push("ios-gt-"+s);t.statusBar?r.push("with-statusbar-overlay"):n("html").removeClass("with-statusbar-overlay");r.length>0&&n("html").addClass(r.join(" "));n.device=t}($);+function(n){"use strict";var t=function(t){function e(){var t=!1;return!i.params.convertToPopover&&!i.params.onlyInPopover?t:(!i.inline&&i.params.input&&(i.params.onlyInPopover?t=!0:n.device.ios?t=n.device.ipad?!0:!1:n(window).width()>=768&&(t=!0)),t)}function o(){return i.opened&&i.container&&i.container.length>0&&i.container.parents(".popover").length>0?!0:!1}function s(){if(i.opened)for(var n=0;n<i.cols.length;n++)i.cols[n].divider||(i.cols[n].calcSize(),i.cols[n].setValue(i.cols[n].value,0,!1))}function h(t){var r,f;if((t.preventDefault(),!i.opened)&&(i.open(),i.updateValue(),i.params.toolbarCleanText&&n(".clean-picker").unbind("click").bind("click",function(){i.cleanValue();i.close()}),i.params.scrollToInput&&!e())){if(r=i.input.parents(".content"),r.length===0)return;var o=parseInt(r.css("padding-top"),10),l=parseInt(r.css("padding-bottom"),10),u=r[0].offsetHeight-o-i.container.height(),s=r[0].scrollHeight-o-i.container.height(),h,c=i.input.offset().top-o+i.input[0].offsetHeight;c>u&&(f=r.scrollTop()+c-u,f+u>s&&(h=f+u-s+l,u===s&&(h=i.container.height()),r.css({"padding-bottom":h+"px"})),r.scrollTop(f,300))}}function c(t){o()||(i.input&&i.input.length>0?t.target!==i.input[0]&&n(t.target).parents(".weui-picker-modal").length===0&&i.close():n(t.target).parents(".weui-picker-modal").length===0&&i.close())}function l(){if(i.opened=!1,i.input&&i.input.length>0&&i.input.parents(".page-content").css({"padding-bottom":""}),i.params.onClose)i.params.onClose(i);i.container.find(".picker-items-col").each(function(){i.destroyPickerCol(this)})}var i=this,u={updateValuesOnMomentum:!1,updateValuesOnTouchmove:!0,rotateEffect:!1,momentumRatio:7,freeMode:!1,scrollToInput:!0,inputReadOnly:!0,toolbar:!0,toolbarCloseText:"关闭",toolbarCleanText:"清空",title:"请选择",toolbarTemplate:'<div class="toolbar">          <div class="toolbar-inner">          <a href="javascript:;" class="picker-button clean-picker" style="left:0!important;text-align:left!important;">{{cleanText}}<\/a>          <a href="javascript:;" class="picker-button close-picker">{{closeText}}<\/a>          <h1 class="title">{{title}}<\/h1>          <\/div>          <\/div>'},r,f;t=t||{};for(r in u)typeof t[r]=="undefined"&&(t[r]=u[r]);i.params=t;i.cols=[];i.initialized=!1;i.inline=i.params.container?!0:!1;f=n.device.ios||navigator.userAgent.toLowerCase().indexOf("safari")>=0&&navigator.userAgent.toLowerCase().indexOf("chrome")<0&&!n.device.android;i.setValue=function(n,t){for(var f,u=0,r=0;r<i.cols.length;r++)i.cols[r]&&!i.cols[r].divider&&(f=parseInt(n[u]),i.cols[r].values.indexOf(n[u])>0||!isNaN(parseInt(f))&&i.cols[r].values.indexOf(f)>0?i.cols[r].setValue(n[u],t):i.cols[r].setValue(i.cols[r].values[0],t),u++)};i.updateValue=function(){for(var r=[],u=[],t=0;t<i.cols.length;t++)i.cols[t].divider||(r.push(i.cols[t].value),u.push(i.cols[t].displayValue));if(!(r.indexOf(undefined)>=0)&&(i.value=r,i.displayValue=u,i.input&&i.input.length>0&&(n(i.input).val(i.params.formatValue?i.params.formatValue(i,i.value,i.displayValue):i.value.join(" ")),n(i.input).trigger("change")),i.params.onChange))i.params.onChange(i,i.value,i.displayValue)};i.cleanValue=function(){if(n(i.input).val(""),i.params.onClean)i.params.onClean(i)};i.initPickerCol=function(t,r){function p(){c=n.requestAnimationFrame(function(){u.updateItems(undefined,undefined,0);p()})}function st(t){if(!a&&!l){t.preventDefault();l=!0;var i=n.getTouchPosition(t);tt=w=i.y;it=(new Date).getTime();v=!0;k=o=n.getTranslate(u.wrapper[0],"y")}}function ht(t){var r,f;l&&(t.preventDefault(),v=!1,r=n.getTouchPosition(t),w=r.y,a||(n.cancelAnimationFrame(c),a=!0,k=o=n.getTranslate(u.wrapper[0],"y"),u.wrapper.transition(0)),t.preventDefault(),f=w-tt,o=k+f,y=undefined,o<h&&(o=h-Math.pow(h-o,.8),y="min"),o>e&&(o=e+Math.pow(o-e,.8),y="max"),u.wrapper.transform("translate3d(0,"+o+"px,0)"),u.updateItems(undefined,o,0,i.params.updateValuesOnTouchmove),d=o-rt||o,ut=(new Date).getTime(),rt=o)}function ct(){var f,t,r;if(!l||!a){l=a=!1;return}l=a=!1;u.wrapper.transition("");y&&(y==="min"?u.wrapper.transform("translate3d(0,"+h+"px,0)"):u.wrapper.transform("translate3d(0,"+e+"px,0)"));b=(new Date).getTime();b-it>300?t=o:(f=Math.abs(d/(b-ut)),t=o+d*i.params.momentumRatio);t=Math.max(Math.min(t,e),h);r=-Math.floor((t-e)/s);i.params.freeMode||(t=-r*s+e);u.wrapper.transform("translate3d(0,"+parseInt(t,10)+"px,0)");u.updateItems(r,t,"",!0);i.params.updateValuesOnMomentum&&(p(),u.wrapper.transitionEnd(function(){n.cancelAnimationFrame(c)}));setTimeout(function(){v=!0},100)}function lt(){if(v){n.cancelAnimationFrame(c);var t=n(this).attr("data-picker-value");u.setValue(t)}}var g=n(t),ft=g.index(),u=i.cols[ft],et,s,nt,h,e,ot,c,v,l,a,tt,w,it,b,k,y,o,rt,d,ut;u.divider||(u.container=g,u.wrapper=u.container.find(".picker-items-col-wrapper"),u.items=u.wrapper.find(".picker-item"),u.replaceValues=function(n,t){u.destroyEvents();u.values=n;u.displayValues=t;var r=i.columnHTML(u,!0);u.wrapper.html(r);u.items=u.wrapper.find(".picker-item");u.calcSize();u.setValue(u.values[0],0,!0);u.initEvents()},u.calcSize=function(){i.params.rotateEffect&&(u.container.removeClass("picker-items-col-absolute"),u.width||u.container.css({width:""}));var t,r;t=0;r=u.container[0].offsetHeight;et=u.wrapper[0].offsetHeight;s=u.items[0].offsetHeight;nt=s*u.items.length;h=r/2-nt+s/2;e=r/2-s/2;u.width&&(t=u.width,parseInt(t,10)===t&&(t=t+"px"),u.container.css({width:t}));i.params.rotateEffect&&(u.width||(u.items.each(function(){var i=n(this);i.css({width:"auto"});t=Math.max(t,i[0].offsetWidth);i.css({width:""})}),u.container.css({width:t+2+"px"})),u.container.addClass("picker-items-col-absolute"))},u.calcSize(),u.wrapper.transform("translate3d(0,"+e+"px,0)").transition(0),ot=0,u.setValue=function(t,r,f){var o,h;(typeof r=="undefined"&&(r=""),o=u.wrapper.find('.picker-item[data-picker-value="'+t+'"]').index(),typeof o!="undefined"&&o!==-1)&&(h=-o*s+e,u.wrapper.transition(r),u.wrapper.transform("translate3d(0,"+h+"px,0)"),i.params.updateValuesOnMomentum&&u.activeIndex&&u.activeIndex!==o&&(n.cancelAnimationFrame(c),u.wrapper.transitionEnd(function(){n.cancelAnimationFrame(c)}),p()),u.updateItems(o,h,r,f))},u.updateItems=function(t,r,o,h){var c,l,a;if(typeof r=="undefined"&&(r=n.getTranslate(u.wrapper[0],"y")),typeof t=="undefined"&&(t=-Math.round((r-e)/s)),t<0&&(t=0),t>=u.items.length&&(t=u.items.length-1),c=u.activeIndex,u.activeIndex=t,u.wrapper.find(".picker-selected").removeClass("picker-selected"),i.params.rotateEffect&&u.items.transition(o),l=u.items.eq(t).addClass("picker-selected").transform(""),(h||typeof h=="undefined")&&(u.value=l.attr("data-picker-value"),u.displayValue=u.displayValues?u.displayValues[t]:u.value,c!==t)){if(u.onChange)u.onChange(i,u.value,u.displayValue);i.updateValue()}i.params.rotateEffect&&(a=(r-(Math.floor((r-e)/s)*s+e))/s,u.items.each(function(){var i=n(this),h=i.index()*s,c=e-r,l=h-c,o=l/s,a=Math.ceil(u.height/s/2)+1,t=-18*o;t>180&&(t=180);t<-180&&(t=-180);Math.abs(o)>a?i.addClass("picker-item-far"):i.removeClass("picker-item-far");i.transform("translate3d(0, "+(-r+e)+"px, "+(f?-110:0)+"px) rotateX("+t+"deg)")}))},r&&u.updateItems(0,e,0),v=!0,u.initEvents=function(t){var i=t?"off":"on";u.container[i](n.touchEvents.start,st);u.container[i](n.touchEvents.move,ht);u.container[i](n.touchEvents.end,ct);u.items[i]("click",lt)},u.destroyEvents=function(){u.initEvents(!0)},u.container[0].f7DestroyPickerCol=function(){u.destroyEvents()},u.initEvents())};i.destroyPickerCol=function(t){t=n(t);"f7DestroyPickerCol"in t[0]&&t[0].f7DestroyPickerCol()};n(window).on("resize",s);if(i.columnHTML=function(n,t){var r="",u="",i;if(n.divider)u+='<div class="picker-items-col picker-items-col-divider '+(n.textAlign?"picker-items-col-"+n.textAlign:"")+" "+(n.cssClass||"")+'">'+n.content+"<\/div>";else{for(i=0;i<n.values.length;i++)r+='<div class="picker-item" data-picker-value="'+n.values[i]+'">'+(n.displayValues?n.displayValues[i]:n.values[i])+"<\/div>";u+='<div class="picker-items-col '+(n.textAlign?"picker-items-col-"+n.textAlign:"")+" "+(n.cssClass||"")+'"><div class="picker-items-col-wrapper">'+r+"<\/div><\/div>"}return t?r:u},i.layout=function(){var r="",u="",n,t,f;for(i.cols=[],t="",n=0;n<i.params.cols.length;n++)f=i.params.cols[n],t+=i.columnHTML(i.params.cols[n]),i.cols.push(f);u="weui-picker-modal picker-columns "+(i.params.cssClass||"")+(i.params.rotateEffect?" picker-3d":"")+(i.params.cols.length===1?" picker-columns-single":"");r='<div class="'+u+'">'+(i.params.toolbar?i.params.toolbarTemplate.replace(/{{closeText}}/g,i.params.toolbarCloseText).replace(/{{title}}/g,i.params.title).replace(/{{cleanText}}/g,i.params.toolbarCleanText):"")+'<div class="picker-modal-inner picker-items">'+t+'<div class="picker-center-highlight"><\/div><\/div><\/div>';i.pickerHTML=r},i.params.input&&(i.input=n(i.params.input),i.input.length>0)){if(i.params.inputReadOnly&&i.input.prop("readOnly",!0),!i.inline)i.input.on("click",h);if(i.params.inputReadOnly)i.input.on("focus mousedown",function(n){n.preventDefault()})}if(!i.inline)n("html").on("click",c);return i.opened=!1,i.open=function(){var t=e();if(!i.opened){if(i.layout(),t){i.pickerHTML='<div class="popover popover-picker-columns"><div class="popover-inner">'+i.pickerHTML+"<\/div><\/div>";i.popover=n.popover(i.pickerHTML,i.params.input,!0);i.container=n(i.popover).find(".weui-picker-modal");n(i.popover).on("close",function(){l()})}else if(i.inline)i.container=n(i.pickerHTML),i.container.addClass("picker-modal-inline"),n(i.params.container).append(i.container);else{i.container=n(n.openPicker(i.pickerHTML));n(i.container).on("close",function(){l()})}i.container[0].f7Picker=i;i.container.find(".picker-items-col").each(function(){var n=!0;(!i.initialized&&i.params.value||i.initialized&&i.value)&&(n=!1);i.initPickerCol(this,n)});i.initialized?i.value&&i.setValue(i.value,0):i.params.value&&i.setValue(i.params.value,0)}if(i.opened=!0,i.initialized=!0,i.params.onOpen)i.params.onOpen(i)},i.close=function(){if(i.opened&&!i.inline){if(o()){n.closePicker(i.popover);return}n.closePicker(i.container);return}},i.destroy=function(){i.close();i.params.input&&i.input.length>0&&i.input.off("click focus",h);n("html").off("click",c);n(window).off("resize",s)},i.inline&&i.open(),i};n(document).on("click",".close-picker",function(){var t=n(".weui-picker-modal.weui-picker-modal-visible");t.length>0&&n.closePicker(t)});n(document).on(n.touchEvents.move,".picker-modal-inner",function(n){n.preventDefault()});n.openPicker=function(t,i,r){var u,f;return typeof i=="function"&&(r=i,i=undefined),n.closePicker(),u=n("<div class='weui-picker-container "+(i||"")+"'><\/div>").appendTo(document.body),u.show(),u.addClass("weui-picker-container-visible"),f=n(t).appendTo(u),f.width(),f.addClass("weui-picker-modal-visible"),r&&u.on("close",r),f};n.updatePicker=function(t){var i=n(".weui-picker-container-visible"),r;return i[0]?(i.html(""),r=n(t).appendTo(i),r.addClass("weui-picker-modal-visible"),r):!1};n.closePicker=function(t,i){typeof t=="function"&&(i=t);n(".weui-picker-modal-visible").removeClass("weui-picker-modal-visible").transitionEnd(function(){n(this).parent().remove();i&&i()}).trigger("close")};n.fn.picker=function(i){var r=arguments;return this.each(function(){var f,u,e,o;this&&(f=n(this),u=f.data("picker"),u||(i=i||{},e=f.val(),i.value===undefined&&e!==""&&(i.value=i.cols.length>1?e.split(" "):[e]),o=n.extend({input:this},i),u=new t(o),f.data("picker",u)),typeof i=="string"&&u[i].apply(u,Array.prototype.slice.call(r,1)))})}}($);+function(n){"use strict";var i,t=function(t,i){var r=this;this.config=i;this.data={values:"",titles:"",origins:[],length:0};this.$input=n(t);this.$input.prop("readOnly",!0);this.initConfig();i=this.config;this.$input.click(n.proxy(this.open,this))};t.prototype.initConfig=function(){this.config=n.extend({},i,this.config);var t=this.config;t.items&&t.items.length&&(t.items=t.items.map(function(n){return typeof n=="string"?{title:n,value:n}:n}),this.tpl=n.t7.compile("<div class='weui-picker-modal weui-select-modal'>"+t.toolbarTemplate+(t.multi?t.checkboxTemplate:t.radioTemplate)+"<\/div>"),t.input!==undefined&&this.$input.val(t.input),this.parseInitValue(),this._init=!0)};t.prototype.updateInputValue=function(n,t){var i,r,u,f;this.config.multi?(i=n.join(this.config.split),r=t.join(this.config.split)):(i=n[0],r=t[0]);u=[];this.config.items.forEach(function(t){n.each(function(n,i){t.value==i&&u.push(t)})});this.$input.val(r).data("values",i);this.$input.attr("value",r).attr("data-values",i);f={values:i,titles:r,valuesArray:n,titlesArray:t,origins:u,length:u.length};this.data=f;this.$input.trigger("change",f);this.config.onChange&&this.config.onChange.call(this,f)};t.prototype.parseInitValue=function(){var t=this.$input.val(),i=this.config.items,u,n,r;if(this._init||t!==undefined&&t!=null&&t!=="")for(u=this.config.multi?t.split(this.config.split):[t],n=0;n<i.length;n++)for(i[n].checked=!1,r=0;r<u.length;r++)i[n].title===u[r]&&(i[n].checked=!0)};t.prototype._bind=function(t){var i=this,r=this.config;t.on("change",function(){var u=t.find("input:checked"),f=u.map(function(){return n(this).val()}),e=u.map(function(){return n(this).data("title")});i.updateInputValue(f,e);r.autoClose&&!r.multi&&n.closePicker()}).on("click",".close-select",function(){i.close()})};t.prototype.update=function(t){this.config=n.extend({},this.config,t);this.initConfig();this._open&&this._bind(n.updatePicker(this.getHTML()))};t.prototype.open=function(){if(!this._open){this.parseInitValue();var t=this.config,i=this.dialog=n.openPicker(this.getHTML(),n.proxy(this.onClose,this));if(this._bind(i),this._open=!0,t.onOpen)t.onOpen(this)}};t.prototype.close=function(t,i){var u=this,r=this.config.beforeClose;if(typeof t=="boolean"&&i===t,!i){if(r&&typeof r=="function"&&r.call(this,this.data.values,this.data.titles)===!1)return!1;if(this.config.multi){if(this.config.min!==undefined&&this.data.length<this.config.min)return n.toast("请至少选择"+this.config.min+"个","text"),!1;if(this.config.max!==undefined&&this.data.length>this.config.max)return n.toast("最多只能选择"+this.config.max+"个","text"),!1}}n.closePicker(function(){u.onClose();t&&t()})};t.prototype.onClose=function(){if(this._open=!1,this.config.onClose)this.config.onClose(this)};t.prototype.getHTML=function(){var n=this.config;return this.tpl({items:n.items,title:n.title,closeText:n.closeText})};n.fn.select=function(i,r){return this.each(function(){var f=n(this),u;return f.data("weui-select")||f.data("weui-select",new t(this,i)),u=f.data("weui-select"),typeof i=="string"&&u[i].call(u,r),u})};i=n.fn.select.prototype.defaults={items:[],input:undefined,title:"请选择",multi:!1,closeText:"关闭",autoClose:!0,onChange:undefined,onClean:undefined,defaultValue:undefined,beforeClose:undefined,onClose:undefined,onOpen:undefined,split:",",min:undefined,max:undefined,toolbarTemplate:'<div class="toolbar">      <div class="toolbar-inner">      <a href="javascript:;" class="picker-button close-select">{{closeText}}<\/a>      <h1 class="title">{{title}}<\/h1>      <\/div>      <\/div>',radioTemplate:'<div class="weui_cells weui_cells_radio">        {{#items}}        <label class="weui_cell weui_check_label" for="weui-select-id-{{this.title}}">          <div class="weui_cell_bd weui_cell_primary">            <p>{{this.title}}<\/p>          <\/div>          <div class="weui_cell_ft">            <input type="radio" class="weui_check" name="weui-select" id="weui-select-id-{{this.title}}" value="{{this.value}}" {{#if this.checked}}checked="checked"{{/if}} data-title="{{this.title}}">            <span class="weui_icon_checked"><\/span>          <\/div>        <\/label>        {{/items}}      <\/div>',checkboxTemplate:'<div class="weui_cells weui_cells_checkbox">        {{#items}}        <label class="weui_cell weui_check_label" for="weui-select-id-{{this.title}}">          <div class="weui_cell_bd weui_cell_primary">            <p>{{this.title}}<\/p>          <\/div>          <div class="weui_cell_ft">            <input type="checkbox" class="weui_check" name="weui-select" id="weui-select-id-{{this.title}}" value="{{this.value}}" {{#if this.checked}}checked="checked"{{/if}} data-title="{{this.title}}" >            <span class="weui_icon_checked"><\/span>          <\/div>        <\/label>        {{/items}}      <\/div>'}}($);+function(n){"use strict";var t=!1,i,u=function(r){function o(){var t=!1;return!u.params.convertToPopover&&!u.params.onlyInPopover?t:(!u.inline&&u.params.input&&(u.params.onlyInPopover?t=!0:n.device.ios?t=n.device.ipad?!0:!1:n(window).width()>=768&&(t=!0)),t)}function s(){return u.opened&&u.container&&u.container.length>0&&u.container.parents(".popover").length>0?!0:!1}function h(n){n=new Date(n);var f=n.getFullYear(),r=n.getMonth(),t=r+1,i=n.getDate(),e=n.getDay();return u.params.dateFormat.replace(/yyyy/g,f).replace(/yy/g,(f+"").substring(2)).replace(/mm/g,t<10?"0"+t:t).replace(/m/g,t).replace(/MM/g,u.params.monthNames[r]).replace(/M/g,u.params.monthNamesShort[r]).replace(/dd/g,i<10?"0"+i:i).replace(/d/g,i).replace(/DD/g,u.params.dayNames[e]).replace(/D/g,u.params.dayNamesShort[e])}function c(n){var t,r;if((n.preventDefault(),!u.opened)&&(u.open(),u.params.scrollToInput&&!o())){if(t=u.input.parents(".page-content"),t.length===0)return;var f=parseInt(t.css("padding-top"),10),c=parseInt(t.css("padding-bottom"),10),i=t[0].offsetHeight-f-u.container.height(),e=t[0].scrollHeight-f-u.container.height(),s,h=u.input.offset().top-f+u.input[0].offsetHeight;h>i&&(r=t.scrollTop()+h-i,r+i>e&&(s=r+i-e+c,i===e&&(s=u.container.height()),t.css({"padding-bottom":s+"px"})),t.scrollTop(r,300))}}function l(t){s()||(u.input&&u.input.length>0?t.target!==u.input[0]&&n(t.target).parents(".weui-picker-modal").length===0&&u.close():n(t.target).parents(".weui-picker-modal").length===0&&u.close())}function a(){if(u.opened=!1,u.input&&u.input.length>0&&u.input.parents(".page-content").css({"padding-bottom":""}),u.params.onClose)u.params.onClose(u);u.destroyCalendarEvents()}var u=this,e,f;r=r||{};for(e in i)typeof r[e]=="undefined"&&(r[e]=i[e]);if(u.params=r,u.initialized=!1,u.inline=u.params.container?!0:!1,u.isH=u.params.direction==="horizontal",f=u.isH?t?-1:1:1,u.animating=!1,u.addValue=function(n){var i,t;if(u.params.multiple){for(u.value||(u.value=[]),t=0;t<u.value.length;t++)new Date(n).getTime()===new Date(u.value[t]).getTime()&&(i=t);typeof i=="undefined"?u.value.push(n):u.value.splice(i,1);u.updateValue()}else u.value=[n],u.updateValue()},u.setValue=function(n){var t=new Date(n[0]);u.setYearMonth(t.getFullYear(),t.getMonth());u.addValue(+t)},u.updateValue=function(){var t,i,r;for(u.wrapper.find(".picker-calendar-day-selected").removeClass("picker-calendar-day-selected"),t=0;t<u.value.length;t++)r=new Date(u.value[t]),u.wrapper.find('.picker-calendar-day[data-date="'+r.getFullYear()+"-"+r.getMonth()+"-"+r.getDate()+'"]').addClass("picker-calendar-day-selected");if(u.params.onChange)u.params.onChange(u,u.value.map(h),u.value.map(function(n){return+new Date(typeof n=="string"?n.split(/\D/).filter(function(n){return!!n}).join("-"):n)}));if(u.input&&u.input.length>0){if(u.params.formatValue)i=u.params.formatValue(u,u.value);else{for(i=[],t=0;t<u.value.length;t++)i.push(h(u.value[t]));i=i.join(", ")}n(u.input).val(i);n(u.input).trigger("change")}},u.initCalendarEvents=function(){function d(t){if(!r&&!i){i=!0;var f=n.getTouchPosition(t);a=e=f.x;v=e=f.y;p=(new Date).getTime();o=0;h=!0;s=undefined;it=c=u.monthsTranslate}}function g(t){if(i){var p=n.getTouchPosition(t);if(y=p.x,e=p.y,typeof s=="undefined"&&(s=!!(s||Math.abs(e-v)>Math.abs(y-a))),u.isH&&s){i=!1;return}if(t.preventDefault(),u.animating){i=!1;return}h=!1;r||(r=!0,b=u.wrapper[0].offsetWidth,k=u.wrapper[0].offsetHeight,u.wrapper.transition(0));t.preventDefault();l=u.isH?y-a:e-v;o=l/(u.isH?b:k);c=(u.monthsTranslate*f+o)*100;u.wrapper.transform("translate3d("+(u.isH?c:0)+"%, "+(u.isH?0:c)+"%, 0)")}}function nt(){if(!i||!r){i=r=!1;return}i=r=!1;w=(new Date).getTime();w-p<300?Math.abs(l)<10?u.resetMonth():l>=10?t?u.nextMonth():u.prevMonth():t?u.prevMonth():u.nextMonth():o<=-.5?t?u.prevMonth():u.nextMonth():o>=.5?t?u.nextMonth():u.prevMonth():u.resetMonth();setTimeout(function(){h=!0},100)}function tt(t){var i;if(h&&(i=n(t.target).parents(".picker-calendar-day"),i.length===0&&n(t.target).hasClass("picker-calendar-day")&&(i=n(t.target)),i.length!==0)&&!i.hasClass("picker-calendar-day-disabled")){i.hasClass("picker-calendar-day-next")&&u.nextMonth();i.hasClass("picker-calendar-day-prev")&&u.prevMonth();var r=i.attr("data-year"),f=i.attr("data-month"),e=i.attr("data-day");if(u.params.onDayClick)u.params.onDayClick(u,i[0],r,f,e);u.addValue(new Date(r,f,e).getTime());u.params.closeOnSelect&&!u.params.multiple&&u.close()}}var h=!0,i,r,a,v,y,e,p,w,it,c,b,k,o,l,s;u.container.find(".picker-calendar-prev-month").on("click",u.prevMonth);u.container.find(".picker-calendar-next-month").on("click",u.nextMonth);u.container.find(".picker-calendar-prev-year").on("click",u.prevYear);u.container.find(".picker-calendar-next-year").on("click",u.nextYear);u.wrapper.on("click",tt);if(u.params.touchMove){u.wrapper.on(n.touchEvents.start,d);u.wrapper.on(n.touchEvents.move,g);u.wrapper.on(n.touchEvents.end,nt)}u.container[0].f7DestroyCalendarEvents=function(){u.container.find(".picker-calendar-prev-month").off("click",u.prevMonth);u.container.find(".picker-calendar-next-month").off("click",u.nextMonth);u.container.find(".picker-calendar-prev-year").off("click",u.prevYear);u.container.find(".picker-calendar-next-year").off("click",u.nextYear);u.wrapper.off("click",tt);u.params.touchMove&&(u.wrapper.off(n.touchEvents.start,d),u.wrapper.off(n.touchEvents.move,g),u.wrapper.off(n.touchEvents.end,nt))}},u.destroyCalendarEvents=function(){"f7DestroyCalendarEvents"in u.container[0]&&u.container[0].f7DestroyCalendarEvents()},u.daysInMonth=function(n){var t=new Date(n);return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},u.monthHTML=function(n,t){var l,it,g,i,s,a,v;n=new Date(n);var f=n.getFullYear(),r=n.getMonth(),rt=n.getDate();t==="next"&&(n=r===11?new Date(f+1,0):new Date(f,r+1,1));t==="prev"&&(n=r===0?new Date(f-1,11):new Date(f,r-1,1));(t==="next"||t==="prev")&&(r=n.getMonth(),f=n.getFullYear());var nt=u.daysInMonth(new Date(n.getFullYear(),n.getMonth()).getTime()-864e6),y=u.daysInMonth(n),c=new Date(n.getFullYear(),n.getMonth()).getDay();c===0&&(c=7);var e,p=[],o,h,w="",b=u.params.firstDay-1,tt=(new Date).setHours(0,0,0,0),k=u.params.minDate?new Date(u.params.minDate).getTime():null,d=u.params.maxDate?new Date(u.params.maxDate).getTime():null;if(u.value&&u.value.length)for(o=0;o<u.value.length;o++)p.push(new Date(u.value[o]).setHours(0,0,0,0));for(o=1;o<=6;o++){for(l="",it=o,h=1;h<=7;h++)g=h,b++,i=b-c,s="",i<0?(i=nt+i+1,s+=" picker-calendar-day-prev",e=new Date(r-1<0?f-1:f,r-1<0?11:r-1,i).getTime()):(i=i+1,i>y?(i=i-y,s+=" picker-calendar-day-next",e=new Date(r+1>11?f+1:f,r+1>11?0:r+1,i).getTime()):e=new Date(f,r,i).getTime()),e===tt&&(s+=" picker-calendar-day-today"),p.indexOf(e)>=0&&(s+=" picker-calendar-day-selected"),u.params.weekendDays.indexOf(g-1)>=0&&(s+=" picker-calendar-day-weekend"),(k&&e<k||d&&e>d)&&(s+=" picker-calendar-day-disabled"),e=new Date(e),a=e.getFullYear(),v=e.getMonth(),l+='<div data-year="'+a+'" data-month="'+v+'" data-day="'+i+'" class="picker-calendar-day'+s+'" data-date="'+(a+"-"+v+"-"+i)+'"><span>'+i+"<\/span><\/div>";w+='<div class="picker-calendar-row">'+l+"<\/div>"}return'<div class="picker-calendar-month" data-year="'+f+'" data-month="'+r+'">'+w+"<\/div>"},u.animating=!1,u.updateCurrentMonthYear=function(n){typeof n=="undefined"?(u.currentMonth=parseInt(u.months.eq(1).attr("data-month"),10),u.currentYear=parseInt(u.months.eq(1).attr("data-year"),10)):(u.currentMonth=parseInt(u.months.eq(n==="next"?u.months.length-1:0).attr("data-month"),10),u.currentYear=parseInt(u.months.eq(n==="next"?u.months.length-1:0).attr("data-year"),10));u.container.find(".current-month-value").text(u.params.monthNames[u.currentMonth]);u.container.find(".current-year-value").text(u.currentYear)},u.onMonthChangeStart=function(n){u.updateCurrentMonthYear(n);u.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var t=n==="next"?u.months.length-1:0;if(u.months.eq(t).addClass("picker-calendar-month-current"),u.months.eq(n==="next"?t-1:t+1).addClass(n==="next"?"picker-calendar-month-prev":"picker-calendar-month-next"),u.params.onMonthYearChangeStart)u.params.onMonthYearChangeStart(u,u.currentYear,u.currentMonth)},u.onMonthChangeEnd=function(n,t){u.animating=!1;var r,f,i;if(u.wrapper.find(".picker-calendar-month:not(.picker-calendar-month-prev):not(.picker-calendar-month-current):not(.picker-calendar-month-next)").remove(),typeof n=="undefined"&&(n="next",t=!0),t?(u.wrapper.find(".picker-calendar-month-next, .picker-calendar-month-prev").remove(),f=u.monthHTML(new Date(u.currentYear,u.currentMonth),"prev"),r=u.monthHTML(new Date(u.currentYear,u.currentMonth),"next")):i=u.monthHTML(new Date(u.currentYear,u.currentMonth),n),(n==="next"||t)&&u.wrapper.append(i||r),(n==="prev"||t)&&u.wrapper.prepend(i||f),u.months=u.wrapper.find(".picker-calendar-month"),u.setMonthsTranslate(u.monthsTranslate),u.params.onMonthAdd)u.params.onMonthAdd(u,n==="next"?u.months.eq(u.months.length-1)[0]:u.months.eq(0)[0]);if(u.params.onMonthYearChangeEnd)u.params.onMonthYearChangeEnd(u,u.currentYear,u.currentMonth)},u.setMonthsTranslate=function(n){n=n||u.monthsTranslate||0;typeof u.monthsTranslate=="undefined"&&(u.monthsTranslate=n);u.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var t=-(n+1)*100*f,i=-n*100*f,r=-(n-1)*100*f;u.months.eq(0).transform("translate3d("+(u.isH?t:0)+"%, "+(u.isH?0:t)+"%, 0)").addClass("picker-calendar-month-prev");u.months.eq(1).transform("translate3d("+(u.isH?i:0)+"%, "+(u.isH?0:i)+"%, 0)").addClass("picker-calendar-month-current");u.months.eq(2).transform("translate3d("+(u.isH?r:0)+"%, "+(u.isH?0:r)+"%, 0)").addClass("picker-calendar-month-next")},u.nextMonth=function(t){var i,s,r;(typeof t=="undefined"||typeof t=="object")&&(t="",u.params.animate||(t=0));var e=parseInt(u.months.eq(u.months.length-1).attr("data-month"),10),h=parseInt(u.months.eq(u.months.length-1).attr("data-year"),10),c=new Date(h,e),o=c.getTime(),l=u.animating?!1:!0;if(u.params.maxDate&&o>new Date(u.params.maxDate).getTime())return u.resetMonth();if(u.monthsTranslate--,e===u.currentMonth&&(i=-u.monthsTranslate*100*f,s=n(u.monthHTML(o,"next")).transform("translate3d("+(u.isH?i:0)+"%, "+(u.isH?0:i)+"%, 0)").addClass("picker-calendar-month-next"),u.wrapper.append(s[0]),u.months=u.wrapper.find(".picker-calendar-month"),u.params.onMonthAdd))u.params.onMonthAdd(u,u.months.eq(u.months.length-1)[0]);u.animating=!0;u.onMonthChangeStart("next");if(r=u.monthsTranslate*100*f,u.wrapper.transition(t).transform("translate3d("+(u.isH?r:0)+"%, "+(u.isH?0:r)+"%, 0)"),l&&u.wrapper.transitionEnd(function(){u.onMonthChangeEnd("next")}),!u.params.animate)u.onMonthChangeEnd("next")},u.prevMonth=function(t){var i,s,r;(typeof t=="undefined"||typeof t=="object")&&(t="",u.params.animate||(t=0));var e=parseInt(u.months.eq(0).attr("data-month"),10),h=parseInt(u.months.eq(0).attr("data-year"),10),c=new Date(h,e+1,-1),o=c.getTime(),l=u.animating?!1:!0;if(u.params.minDate&&o<new Date(u.params.minDate).getTime())return u.resetMonth();if(u.monthsTranslate++,e===u.currentMonth&&(i=-u.monthsTranslate*100*f,s=n(u.monthHTML(o,"prev")).transform("translate3d("+(u.isH?i:0)+"%, "+(u.isH?0:i)+"%, 0)").addClass("picker-calendar-month-prev"),u.wrapper.prepend(s[0]),u.months=u.wrapper.find(".picker-calendar-month"),u.params.onMonthAdd))u.params.onMonthAdd(u,u.months.eq(0)[0]);u.animating=!0;u.onMonthChangeStart("prev");if(r=u.monthsTranslate*100*f,u.wrapper.transition(t).transform("translate3d("+(u.isH?r:0)+"%, "+(u.isH?0:r)+"%, 0)"),l&&u.wrapper.transitionEnd(function(){u.onMonthChangeEnd("prev")}),!u.params.animate)u.onMonthChangeEnd("prev")},u.resetMonth=function(n){typeof n=="undefined"&&(n="");var t=u.monthsTranslate*100*f;u.wrapper.transition(n).transform("translate3d("+(u.isH?t:0)+"%, "+(u.isH?0:t)+"%, 0)")},u.setYearMonth=function(n,t,i){var e,s,r,h,a;if((typeof n=="undefined"&&(n=u.currentYear),typeof t=="undefined"&&(t=u.currentMonth),(typeof i=="undefined"||typeof i=="object")&&(i="",u.params.animate||(i=0)),e=n<u.currentYear?new Date(n,t+1,-1).getTime():new Date(n,t).getTime(),u.params.maxDate&&e>new Date(u.params.maxDate).getTime())||u.params.minDate&&e<new Date(u.params.minDate).getTime())return!1;var c=new Date(u.currentYear,u.currentMonth).getTime(),o=e>c?"next":"prev",l=u.monthHTML(new Date(n,t));if(u.monthsTranslate=u.monthsTranslate||0,s=u.monthsTranslate,a=u.animating?!1:!0,e>c?(u.monthsTranslate--,u.animating||u.months.eq(u.months.length-1).remove(),u.wrapper.append(l),u.months=u.wrapper.find(".picker-calendar-month"),r=-(s-1)*100*f,u.months.eq(u.months.length-1).transform("translate3d("+(u.isH?r:0)+"%, "+(u.isH?0:r)+"%, 0)").addClass("picker-calendar-month-next")):(u.monthsTranslate++,u.animating||u.months.eq(0).remove(),u.wrapper.prepend(l),u.months=u.wrapper.find(".picker-calendar-month"),r=-(s+1)*100*f,u.months.eq(0).transform("translate3d("+(u.isH?r:0)+"%, "+(u.isH?0:r)+"%, 0)").addClass("picker-calendar-month-prev")),u.params.onMonthAdd)u.params.onMonthAdd(u,o==="next"?u.months.eq(u.months.length-1)[0]:u.months.eq(0)[0]);u.animating=!0;u.onMonthChangeStart(o);if(h=u.monthsTranslate*100*f,u.wrapper.transition(i).transform("translate3d("+(u.isH?h:0)+"%, "+(u.isH?0:h)+"%, 0)"),a&&u.wrapper.transitionEnd(function(){u.onMonthChangeEnd(o,!0)}),!u.params.animate)u.onMonthChangeEnd(o)},u.nextYear=function(){u.setYearMonth(u.currentYear+1)},u.prevYear=function(){u.setYearMonth(u.currentYear-1)},u.layout=function(){var o="",t="",n,r=u.value&&u.value.length?u.value[0]:(new Date).setHours(0,0,0,0),h=u.monthHTML(r,"prev"),c=u.monthHTML(r),l=u.monthHTML(r,"next"),a='<div class="picker-calendar-months"><div class="picker-calendar-months-wrapper">'+(h+c+l)+"<\/div><\/div>",i="",f,s,e;if(u.params.weekHeader){for(n=0;n<7;n++)f=n+u.params.firstDay>6?n-7+u.params.firstDay:n+u.params.firstDay,s=u.params.dayNamesShort[f],i+='<div class="picker-calendar-week-day '+(u.params.weekendDays.indexOf(f)>=0?"picker-calendar-week-day-weekend":"")+'"> '+s+"<\/div>";i='<div class="picker-calendar-week-days">'+i+"<\/div>"}t="weui-picker-calendar "+(u.params.cssClass||"");u.inline||(t="weui-picker-modal "+t);e=u.params.toolbar?u.params.toolbarTemplate.replace(/{{closeText}}/g,u.params.toolbarCloseText):"";u.params.toolbar&&(e=u.params.toolbarTemplate.replace(/{{closeText}}/g,u.params.toolbarCloseText).replace(/{{monthPicker}}/g,u.params.monthPicker?u.params.monthPickerTemplate:"").replace(/{{yearPicker}}/g,u.params.yearPicker?u.params.yearPickerTemplate:""));o='<div class="'+t+'">'+e+'<div class="picker-modal-inner">'+i+a+"<\/div><\/div>";u.pickerHTML=o},u.params.input&&(u.input=n(u.params.input),u.input.length>0)){if(u.params.inputReadOnly&&u.input.prop("readOnly",!0),!u.inline)u.input.on("click",c);if(u.params.inputReadOnly)u.input.on("focus mousedown",function(n){n.preventDefault()})}if(!u.inline)n(document).on("click touchend",l);return u.opened=!1,u.open=function(){var i=o()&&!1,t=!1;if(!u.opened){if(u.value||u.params.value&&(u.value=u.params.value,t=!0),u.layout(),i){u.pickerHTML='<div class="popover popover-picker-calendar"><div class="popover-inner">'+u.pickerHTML+"<\/div><\/div>";u.popover=n.popover(u.pickerHTML,u.params.input,!0);u.container=n(u.popover).find(".weui-picker-modal");n(u.popover).on("close",function(){a()})}else if(u.inline)u.container=n(u.pickerHTML),u.container.addClass("picker-modal-inline"),n(u.params.container).append(u.container);else{u.container=n(n.openPicker(u.pickerHTML));n(u.container).on("close",function(){a()})}u.container[0].f7Calendar=u;u.wrapper=u.container.find(".picker-calendar-months-wrapper");u.months=u.wrapper.find(".picker-calendar-month");u.updateCurrentMonthYear();u.monthsTranslate=0;u.setMonthsTranslate();u.initCalendarEvents();t&&u.updateValue()}if(u.opened=!0,u.initialized=!0,u.params.onMonthAdd&&u.months.each(function(){u.params.onMonthAdd(u,this)}),u.params.onOpen)u.params.onOpen(u)},u.close=function(){if(u.opened&&!u.inline){if(u.animating=!1,s()){n.closePicker(u.popover);return}n.closePicker(u.container);return}},u.destroy=function(){u.close();u.params.input&&u.input.length>0&&(u.input.off("click focus",c),u.input.data("calendar",null));n("html").off("click",l)},u.inline&&u.open(),u},r=function(n){return n<10?"0"+n:n};n.fn.calendar=function(t,i){return t=t||{},this.each(function(){var f=n(this),o,e,s;f[0]&&(o={},f[0].tagName.toUpperCase()==="INPUT"?o.input=f:o.container=f,e=f.data("calendar"),e||typeof t=="string"||(!t.value&&f.val()&&(t.value=[f.val()]),t.value||(s=new Date,t.value=[s.getFullYear()+"-"+r(s.getMonth()+1)+"-"+r(s.getDate())]),e=f.data("calendar",new u(n.extend(o,t)))),typeof t=="string"&&e[t].call(e,i))})};i=n.fn.calendar.prototype.defaults={value:undefined,monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["周日","周一","周二","周三","周四","周五","周六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],firstDay:1,weekendDays:[0,6],multiple:!1,dateFormat:"yyyy-mm-dd",direction:"horizontal",minDate:null,maxDate:null,touchMove:!0,animate:!0,closeOnSelect:!0,monthPicker:!0,monthPickerTemplate:'<div class="picker-calendar-month-picker"><a href="javascript:;" class="link icon-only picker-calendar-prev-month"><i class="icon icon-prev"><\/i><\/a><div class="current-month-value"><\/div><a href="javascript:;" class="link icon-only picker-calendar-next-month"><i class="icon icon-next"><\/i><\/a><\/div>',yearPicker:!0,yearPickerTemplate:'<div class="picker-calendar-year-picker"><a href="javascript:;" class="link icon-only picker-calendar-prev-year"><i class="icon icon-prev"><\/i><\/a><span class="current-year-value"><\/span><a href="javascript:;" class="link icon-only picker-calendar-next-year"><i class="icon icon-next"><\/i><\/a><\/div>',weekHeader:!0,scrollToInput:!0,inputReadOnly:!0,convertToPopover:!0,onlyInPopover:!1,toolbar:!0,toolbarCloseText:"Done",toolbarTemplate:'<div class="toolbar"><div class="toolbar-inner">{{yearPicker}}{{monthPicker}}<\/div><\/div>'}}($);+function(n){"use strict";var i,t=function(n){return n<10?"0"+n:n},r=function(t,i){this.input=n(t);this.params=i;this.initMonthes="01 02 03 04 05 06 07 08 09 10 11 12".split(" ");this.initYears=function(){for(var t=[],n=1950;n<=2030;n++)t.push(n);return t}();var r=n.extend({},i,this.getConfig());n(this.input).picker(r)};r.prototype={getDays:function(n){for(var i=[],t=1;t<=(n||31);t++)i.push(t<10?"0"+t:t);return i},getDaysByMonthAndYear:function(n,t){var i=new Date(t,parseInt(n)+1-1,1),r=new Date(i-1);return this.getDays(r.getDate())},getConfig:function(){var u=common.ConvertToDateTime(this.params.defaultValue?this.params.defaultValue:new Date),n=this.params,i=this,e,r={rotateEffect:!1,cssClass:"datetime-picker",value:[u.getFullYear(),t(u.getMonth()+1),t(u.getDate()),t(u.getHours()),t(u.getMinutes())],onChange:function(t,r){var l=t.cols,s=i.getDaysByMonthAndYear(r[1],r[0]),f=r[2],o,u,h,c;f>s.length&&(f=s.length);t.cols[4].setValue(f);o=new Date(r[0]+"-"+r[1]+"-"+r[2]);u=!0;n.min&&(h=new Date(typeof n.min=="function"?n.min():n.min),o<+h&&(t.setValue(e),u=!1));n.max&&(c=new Date(typeof n.max=="function"?n.max():n.max),o>+c&&(t.setValue(e),u=!1));u&&(e=r);i.params.onChange&&i.params.onChange.apply(this,arguments)},onClean:function(){i.params.onClean&&i.params.onClean.apply(this,arguments)},formatValue:function(n,t,r){return i.params.format(n,t,r)},cols:[{values:function(){for(var t=[],n=1950;n<=2050;n++)t.push(n);return t}()},{divider:!0,content:n.yearSplit},{values:["01","02","03","04","05","06","07","08","09","10","11","12"]},{divider:!0,content:n.monthSplit},{values:function(){for(var i=[],n=1;n<=31;n++)i.push(t(n));return i}()},]},f,o;return n.dateSplit&&r.cols.push({divider:!0,content:n.dateSplit}),r.cols.push({divider:!0,content:n.datetimeSplit}),f=i.params.times(),f&&f.length&&(r.cols=r.cols.concat(f)),o=this.input.val(),o&&(r.value=n.parse(o)),this.params.value&&(this.input.val(this.params.value),r.value=n.parse(this.params.value)),r}};n.fn.datetimePicker=function(t){return t=n.extend({},i,t),this.each(function(){if(this){var i=n(this),u=i.data("datetime");return u||i.data("datetime",new r(this,t)),u}})};i=n.fn.datetimePicker.prototype.defaults={input:undefined,min:undefined,max:undefined,yearSplit:"-",monthSplit:"-",dateSplit:"",datetimeSplit:" ",times:function(){return[{values:function(){for(var i=[],n=0;n<24;n++)i.push(t(n));return i}()},{divider:!0,content:":"},{values:function(){for(var i=[],n=0;n<59;n++)i.push(t(n));return i}()}]},format:function(n){return n.cols.map(function(n){return n.value||n.content}).join("")},parse:function(n){var t=n.split(this.datetimeSplit);return t[0].split(/\D/).concat(t[1].split(/:|时|分|秒/)).filter(function(n){return!!n})}}}($);+function(n){"use strict";n.openPopup=function(t){n.closePopup();t=n(t);t.show();t.width();t.addClass("weui-popup-container-visible");var i=t.find(".weui-popup-modal");i.width();i.transitionEnd(function(){i.trigger("open")})};n.closePopup=function(t,i){t=n(t||".weui-popup-container-visible");t.find(".weui-popup-modal").transitionEnd(function(){var r=n(this);r.trigger("close");t.hide();i&&t.remove()});t.removeClass("weui-popup-container-visible")};n(document).on("click",".close-popup, .weui-popup-overlay",function(){n.closePopup()}).on("click",".open-popup",function(){n(n(this).data("target")).popup()}).on("click",".weui-popup-container",function(t){n(t.target).hasClass("weui-popup-container")&&n.closePopup()});n.fn.popup=function(){return this.each(function(){n.openPopup(this)})}}($);+function(n){"use strict";var t,e,r,u,f,i,o=function(r){var e=n.getTouchPosition(r);u=e;f=i=0;t.addClass("touching")},s=function(r){if(!u)return!1;r.preventDefault();r.stopPropagation();var e=n.getTouchPosition(r);f=e.x-u.x;i=e.y-u.y;i>0&&(i=Math.sqrt(i));t.css("transform","translate3d(0, "+i+"px, 0)")},h=function(){t.removeClass("touching");t.attr("style","");i<0&&Math.abs(i)>t.height()*.38&&n.closeNotification();Math.abs(f)<=1&&Math.abs(i)<=1&&t.trigger("noti-click");u=!1},c=function(t){t.on(n.touchEvents.start,o);t.on(n.touchEvents.move,s);t.on(n.touchEvents.end,h)};n.notification=n.noti=function(i){if(i=n.extend({},e,i),t=n(".notification"),t[0]||(t=n('<div class="notification"><\/div>').appendTo(document.body),c(t)),t.off("noti-click"),i.onClick)t.on("noti-click",function(){i.onClick(i.data)});t.html(n.t7.compile(i.tpl)(i));t.show();t.addClass("notification-in");t.data("params",i);var u=function(){r&&(clearTimeout(r),r=null);r=setTimeout(function(){t.hasClass("touching")?u():n.closeNotification()},i.time)};u()};n.closeNotification=function(){var i,t;if(r&&clearTimeout(r),r=null,i=n(".notification").removeClass("notification-in").transitionEnd(function(){n(this).remove()}),i[0]&&(t=n(".notification").data("params"),t&&t.onClose))t.onClose(t.data)};e=n.noti.prototype.defaults={title:undefined,text:undefined,media:undefined,time:4e3,onClick:undefined,onClose:undefined,data:undefined,tpl:'<div class="notification-inner">{{#if media}}<div class="notification-media">{{media}}<\/div>{{/if}}<div class="notification-content">{{#if title}}<div class="notification-title">{{title}}<\/div>{{/if}}{{#if text}}<div class="notification-text">{{text}}<\/div>{{/if}}<\/div><div class="notification-handle-bar"><\/div><\/div>'}}($);+function(n){"use strict";var t;n.toptip=function(i,r,u){if(i){typeof r=="string"&&(u=r,r=undefined);r=r||3e3;var e=u?"bg-"+u:"bg-danger",f=n(".weui_toptips").remove();f=n('<div class="weui_toptips"><\/div>').appendTo(document.body);f.html(i);f[0].className="weui_toptips "+e;clearTimeout(t);f.hasClass("weui_toptips_visible")||(f.show().width(),f.addClass("weui_toptips_visible"));t=setTimeout(function(){f.removeClass("weui_toptips_visible").transitionEnd(function(){f.remove()})},r)}}}($);
/*
//# sourceMappingURL=jquery-weui.min.js.map
*/