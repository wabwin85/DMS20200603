<?xml version="1.0" encoding="utf-8" ?>
<sqlMap namespace="IcProductStandardPriceMap" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://ibatis.apache.org/mapping">
  <alias>
    <typeAlias alias="IcProductStandardPrice" assembly="DMS.Model.dll" type="DMS.Model.IcProductStandardPrice" />
  </alias>
  <resultMaps>
    <resultMap id="IcProductStandardPriceResult" class="IcProductStandardPrice">
      <result property="Id" column="ICP_ID" type="Guid" dbType="uniqueidentifier"/>
      <result property="ProductLineId" column="ICP_ProductLine_ID" type="Guid" dbType="uniqueidentifier"/>
      <result property="ProductClassification" column="ICP_ProductClassification" type="string" dbType="nvarchar"/>
      <result property="ProductClassificationName" column="ICP_ProductClassificationName" type="string" dbType="nvarchar"/>
      <result property="ProductPrice" column="ICP_ProductPrice" type="double" dbType="float"/>
      <result property="ProductRebate" column="ICP_ProductRebate" type="string" dbType="nvarchar"/>
      <result property="ProductParent" column="ICP_ProductParent" type="string" dbType="nvarchar"/>
    </resultMap>
  </resultMaps>
  <statements>

    <select id="SelectIcProductStandardPrice" parameterClass="string" resultClass="IcProductStandardPrice">
      SELECT ICP_ID AS Id,ICP_ProductLine_ID AS ProductLineId,ICP_ProductClassification AS ProductClassification,ICP_ProductClassificationName AS ProductClassificationName,ICP_ProductPrice AS ProductPrice,ICP_ProductRebate AS ProductRebate,ICP_ProductParent AS ProductParent
      FROM ICProductStandardPrice
      <dynamic prepend="WHERE">
        <isParameterPresent>
          ICP_ID = #value#
        </isParameterPresent>
      </dynamic>
    </select>
    <select id="SelectByFilterIcProductStandardPrice" parameterClass="IcProductStandardPrice" resultClass="IcProductStandardPrice">
      SELECT ICP_ID AS Id,ICP_ProductLine_ID AS ProductLineId,ICP_ProductClassification AS ProductClassification,ICP_ProductClassificationName AS ProductClassificationName,ICP_ProductPrice AS ProductPrice,ICP_ProductRebate AS ProductRebate,ICP_ProductParent AS ProductParent
      FROM ICProductStandardPrice
      <dynamic prepend="WHERE">
        <isNotNull prepend="AND" property="Id">ICP_ID=#Id#</isNotNull>
        <isNotNull prepend="AND" property="ProductLineId">ICP_ProductLine_ID=#ProductLineId#</isNotNull>
        <isNotNull prepend="AND" property="ProductClassification">ICP_ProductClassification=#ProductClassification#</isNotNull>
        <isNotNull prepend="AND" property="ProductClassificationName">ICP_ProductClassificationName=#ProductClassificationName#</isNotNull>
        <isNotNull prepend="AND" property="ProductPrice">ICP_ProductPrice=#ProductPrice#</isNotNull>
        <isNotNull prepend="AND" property="ProductRebate">ICP_ProductRebate=#ProductRebate#</isNotNull>
        <isNotNull prepend="AND" property="ProductParent">ICP_ProductParent=#ProductParent#</isNotNull>
      </dynamic>
    </select>
    <insert id="InsertIcProductStandardPrice" parameterClass="IcProductStandardPrice">
      INSERT INTO ICProductStandardPrice
      (ICP_ID,ICP_ProductLine_ID,ICP_ProductClassification,ICP_ProductClassificationName,ICP_ProductPrice,ICP_ProductRebate,ICP_ProductParent)
      VALUES(#Id#,#ProductLineId#,#ProductClassification#,#ProductClassificationName#,#ProductPrice#,#ProductRebate#,#ProductParent#)
    </insert>
    <update id="UpdateIcProductStandardPrice" parameterClass="IcProductStandardPrice">
      UPDATE ICProductStandardPrice
      SET ICP_ID=#Id#,ICP_ProductLine_ID=#ProductLineId#,ICP_ProductClassification=#ProductClassification#,ICP_ProductClassificationName=#ProductClassificationName#,ICP_ProductPrice=#ProductPrice#,ICP_ProductRebate=#ProductRebate#,ICP_ProductParent=#ProductParent#
      WHERE ICP_ID = #Id#
    </update>
    <delete id="DeleteIcProductStandardPrice" parameterClass="string">
      DELETE FROM ICProductStandardPrice
      WHERE ICP_ID = #value#
    </delete>

    <select id="SelectHospitalProductByProductLineId" parameterClass="System.Collections.Hashtable" resultClass="IcProductStandardPrice">
      SELECT ICP_ID AS Id,ICP_ProductLine_ID AS ProductLineId,ICP_ProductClassification AS ProductClassification,ICP_ProductClassificationName AS ProductClassificationName,ICP_ProductPrice AS ProductPrice,ICP_ProductRebate AS ProductRebate,ICP_ProductParent AS ProductParent
      FROM ICProductStandardPrice
      <dynamic prepend="WHERE">
        <isNotNull prepend="AND" property="ProductLineBumId">ICP_ProductLine_ID=#ProductLineBumId# </isNotNull>
      </dynamic>
    </select>
    
  </statements>
</sqlMap>
