<?xml version="1.0" encoding="utf-8" ?>
<sqlMap namespace="InterfaceRedCrossHospitalTransactionWithqrMap" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://ibatis.apache.org/mapping">
  <alias>
    <typeAlias alias="InterfaceRedCrossHospitalTransactionWithqr" assembly="DMS.Model.dll" type="DMS.Model.InterfaceRedCrossHospitalTransactionWithqr" />
  </alias>
  <resultMaps>
    <resultMap id="InterfaceRedCrossHospitalTransactionWithqrResult" class="InterfaceRedCrossHospitalTransactionWithqr">
      <result property="Id" column="IHT_ID" type="Guid" dbType="uniqueidentifier"/>
      <result property="ApplicationType" column="IHT_ApplicationType" type="string" dbType="nvarchar"/>
      <result property="DealerSapCode" column="IHT_Dealer_SapCode" type="string" dbType="nvarchar"/>
      <result property="DealerName" column="IHT_DealerName" type="string" dbType="nvarchar"/>      
      <result property="HospitalCode" column="IHT_HospitalCode" type="string" dbType="nvarchar"/>
      <result property="HospitalName" column="ITH_HospitalName" type="string" dbType="nvarchar"/>
      <result property="ApplicationDate" column="IHT_ApplicationDate" type="DateTime" dbType="datetime"/>
      <result property="ApplicationNbr" column="IHT_ApplicationNbr" type="string" dbType="nvarchar"/>
      <result property="MerchandiseName" column="IHT_MerchandiseName" type="string" dbType="nvarchar"/>
      <result property="MerchandiseSpec" column="IHT_MerchandiseSpec" type="string" dbType="nvarchar"/>
      <result property="Di" column="IHT_DI" type="string" dbType="nvarchar"/>
      <result property="Pi" column="IHT_PI" type="string" dbType="nvarchar"/>
      <result property="Gtin" column="IHT_GTIN" type="string" dbType="nvarchar"/>
      <result property="QrCode" column="IHT_QRCode" type="string" dbType="nvarchar"/>
      <result property="Sn" column="IHT_SN" type="string" dbType="nvarchar"/>
      <result property="Qty" column="IHT_Qty" type="decimal" dbType="decimal"/>
      <result property="UnitPrice" column="IHT_UnitPrice" type="decimal" dbType="decimal"/>
      <result property="Upn" column="IHT_UPN" type="string" dbType="nvarchar"/>
      <result property="LotNumber" column="IHT_LotNumber" type="string" dbType="nvarchar"/>
      <result property="Remark" column="IHT_Remark" type="string" dbType="nvarchar"/>
      <result property="PackingUnit" column="IHT_PackingUnit" type="string" dbType="nvarchar"/>
      <result property="ArrivalDate" column="IHT_ArrivalDate" type="string" dbType="nvarchar"/>
      <result property="LineNbr" column="IHT_LineNbr" type="int" dbType="int"/>
      <result property="ImportDate" column="IHT_ImportDate" type="DateTime" dbType="datetime"/>
      <result property="Clientid" column="IHT_ClientID" type="string" dbType="nvarchar"/>
      <result property="BatchNbr" column="IHT_BatchNbr" type="string" dbType="nvarchar"/>
      <result property="ErrorMsg" column="IHT_ErrorMsg" type="string" dbType="nvarchar"/>
      <result property="WhmId" column="IHT_WHM_ID" type="Guid" dbType="uniqueidentifier"/>
      <result property="WhmType" column="IHT_WHM_Type" type="string" dbType="nvarchar"/>
    </resultMap>
  </resultMaps>
  <parameterMaps>
    <parameterMap id="InterfaceRedCrossHospitalTransactionParameterMap" class="System.Collections.Hashtable" >
      <parameter property="BatchNbr" column="BatchNbr" />
      <parameter property="ClientID" column="ClientID"/>
      <parameter property="RtnVal" column="RtnVal" direction="Output" />
      <parameter property="RtnMsg" column="RtnMsg" direction="Output" />
    </parameterMap>
  </parameterMaps>
  <statements>

    <select id="SelectInterfaceRedCrossHospitalTransactionWithqr" parameterClass="string" resultClass="InterfaceRedCrossHospitalTransactionWithqr">
      SELECT IHT_ID AS Id,IHT_ApplicationType AS ApplicationType,IHT_Dealer_SapCode AS DealerSapCode,IHT_DealerName AS DealerName,IHT_HospitalCode AS HospitalCode,IHT_HospitalName AS HospitalName,IHT_ApplicationDate AS ApplicationDate,IHT_ApplicationNbr AS ApplicationNbr,IHT_MerchandiseName AS MerchandiseName,IHT_MerchandiseSpec AS MerchandiseSpec,IHT_DI AS Di,IHT_PI AS Pi,IHT_GTIN AS Gtin,IHT_QRCode AS QrCode,IHT_SN AS Sn,IHT_Qty AS Qty,IHT_UnitPrice AS UnitPrice,IHT_UPN AS Upn,IHT_LotNumber AS LotNumber,IHT_Remark AS Remark,IHT_PackingUnit AS PackingUnit,IHT_ArrivalDate AS ArrivalDate,IHT_LineNbr AS LineNbr,IHT_ImportDate AS ImportDate,IHT_ClientID AS Clientid,IHT_BatchNbr AS BatchNbr,IHT_ErrorMsg AS ErrorMsg,IHT_WHM_ID AS WhmId,IHT_WHM_Type AS WhmType
      FROM InterfaceRedCrossHospitalTransactionWithQR
      <dynamic prepend="WHERE">
        <isParameterPresent>
          IHT_ID = #value#
        </isParameterPresent>
      </dynamic>
    </select>
    <select id="SelectByFilterInterfaceRedCrossHospitalTransactionWithqr" parameterClass="InterfaceRedCrossHospitalTransactionWithqr" resultClass="InterfaceRedCrossHospitalTransactionWithqr">
      SELECT IHT_ID AS Id,IHT_ApplicationType AS ApplicationType,IHT_Dealer_SapCode AS DealerSapCode,IHT_DealerName AS DealerName,IHT_HospitalCode AS HospitalCode,IHT_HospitalName AS HospitalName,IHT_ApplicationDate AS ApplicationDate,IHT_ApplicationNbr AS ApplicationNbr,IHT_MerchandiseName AS MerchandiseName,IHT_MerchandiseSpec AS MerchandiseSpec,IHT_DI AS Di,IHT_PI AS Pi,IHT_GTIN AS Gtin,IHT_QRCode AS QrCode,IHT_SN AS Sn,IHT_Qty AS Qty,IHT_UnitPrice AS UnitPrice,IHT_UPN AS Upn,IHT_LotNumber AS LotNumber,IHT_Remark AS Remark,IHT_PackingUnit AS PackingUnit,IHT_ArrivalDate AS ArrivalDate,IHT_LineNbr AS LineNbr,IHT_ImportDate AS ImportDate,IHT_ClientID AS Clientid,IHT_BatchNbr AS BatchNbr,IHT_ErrorMsg AS ErrorMsg,IHT_WHM_ID AS WhmId,IHT_WHM_Type AS WhmType
      FROM InterfaceRedCrossHospitalTransactionWithQR
      <dynamic prepend="WHERE">
        <isNotNull prepend="AND" property="Id">IHT_ID=#Id#</isNotNull>
        <isNotNull prepend="AND" property="ApplicationType">IHT_ApplicationType=#ApplicationType#</isNotNull>
        <isNotNull prepend="AND" property="DealerSapCode">IHT_Dealer_SapCode=#DealerSapCode#</isNotNull>
        <isNotNull prepend="AND" property="DealerName">IHT_DealerName=#DealerName#</isNotNull>
        <isNotNull prepend="AND" property="HospitalCode">IHT_HospitalCode=#HospitalCode#</isNotNull>
        <isNotNull prepend="AND" property="HospitalName">IHT_HospitalName=#HospitalName#</isNotNull>
        <isNotNull prepend="AND" property="ApplicationDate">IHT_ApplicationDate=#ApplicationDate#</isNotNull>
        <isNotNull prepend="AND" property="ApplicationNbr">IHT_ApplicationNbr=#ApplicationNbr#</isNotNull>
        <isNotNull prepend="AND" property="MerchandiseName">IHT_MerchandiseName=#MerchandiseName#</isNotNull>
        <isNotNull prepend="AND" property="MerchandiseSpec">IHT_MerchandiseSpec=#MerchandiseSpec#</isNotNull>
        <isNotNull prepend="AND" property="Di">IHT_DI=#Di#</isNotNull>
        <isNotNull prepend="AND" property="Pi">IHT_PI=#Pi#</isNotNull>
        <isNotNull prepend="AND" property="Gtin">IHT_GTIN=#Gtin#</isNotNull>
        <isNotNull prepend="AND" property="QrCode">IHT_QRCode=#QrCode#</isNotNull>
        <isNotNull prepend="AND" property="Sn">IHT_SN=#Sn#</isNotNull>
        <isNotNull prepend="AND" property="Qty">IHT_Qty=#Qty#</isNotNull>
        <isNotNull prepend="AND" property="UnitPrice">IHT_UnitPrice=#UnitPrice#</isNotNull>
        <isNotNull prepend="AND" property="Upn">IHT_UPN=#Upn#</isNotNull>
        <isNotNull prepend="AND" property="LotNumber">IHT_LotNumber=#LotNumber#</isNotNull>
        <isNotNull prepend="AND" property="Remark">IHT_Remark=#Remark#</isNotNull>
        <isNotNull prepend="AND" property="PackingUnit">IHT_PackingUnit=#PackingUnit#</isNotNull>
        <isNotNull prepend="AND" property="ArrivalDate">IHT_ArrivalDate=#ArrivalDate#</isNotNull>
        <isNotNull prepend="AND" property="LineNbr">IHT_LineNbr=#LineNbr#</isNotNull>
        <isNotNull prepend="AND" property="ImportDate">IHT_ImportDate=#ImportDate#</isNotNull>
        <isNotNull prepend="AND" property="Clientid">IHT_ClientID=#Clientid#</isNotNull>
        <isNotNull prepend="AND" property="BatchNbr">IHT_BatchNbr=#BatchNbr#</isNotNull>
        <isNotNull prepend="AND" property="ErrorMsg">IHT_ErrorMsg=#ErrorMsg#</isNotNull>
        <isNotNull prepend="AND" property="WhmId">IHT_WHM_ID=#WhmId#</isNotNull>
        <isNotNull prepend="AND" property="WhmType">IHT_WHM_Type=#WhmType#</isNotNull>
      </dynamic>
    </select>
    <insert id="InsertInterfaceRedCrossHospitalTransactionWithqr" parameterClass="InterfaceRedCrossHospitalTransactionWithqr">
      INSERT INTO InterfaceRedCrossHospitalTransactionWithQR
      (IHT_ID,IHT_ApplicationType,IHT_Dealer_SapCode,IHT_DealerName,IHT_HospitalCode,IHT_HospitalName,IHT_ApplicationDate,IHT_ApplicationNbr,IHT_MerchandiseName,IHT_MerchandiseSpec,IHT_DI,IHT_PI,IHT_GTIN,IHT_QRCode,IHT_SN,IHT_Qty,IHT_UnitPrice,IHT_UPN,IHT_LotNumber,IHT_Remark,IHT_PackingUnit,IHT_ArrivalDate,IHT_LineNbr,IHT_ImportDate,IHT_ClientID,IHT_BatchNbr,IHT_ErrorMsg,IHT_WHM_ID,IHT_WHM_Type)
      VALUES(#Id#,#ApplicationType#,#DealerSapCode#,#DealerName#,#HospitalCode#,#HospitalName#,#ApplicationDate:DateTime:1/1/0001 12:00:00 AM#,#ApplicationNbr#,#MerchandiseName#,#MerchandiseSpec#,#Di#,#Pi#,#Gtin#,#QrCode#,#Sn#,#Qty#,#UnitPrice#,#Upn#,#LotNumber#,#Remark#,#PackingUnit#,#ArrivalDate#,#LineNbr#,#ImportDate:DateTime:1/1/0001 12:00:00 AM#,#Clientid#,#BatchNbr#,#ErrorMsg#,#WhmId#,#WhmType#)
    </insert>
    <update id="UpdateInterfaceRedCrossHospitalTransactionWithqr" parameterClass="InterfaceRedCrossHospitalTransactionWithqr">
      UPDATE InterfaceRedCrossHospitalTransactionWithQR
      SET IHT_ID=#Id#,IHT_ApplicationType=#ApplicationType#,IHT_Dealer_SapCode=#DealerSapCode#,IHT_DealerName=#DealerName#,IHT_HospitalCode=#HospitalCode#,IHT_HospitalName=#HospitalName#,IHT_ApplicationDate=#ApplicationDate#,IHT_ApplicationNbr=#ApplicationNbr#,IHT_MerchandiseName=#MerchandiseName#,IHT_MerchandiseSpec=#MerchandiseSpec#,IHT_DI=#Di#,IHT_PI=#Pi#,IHT_GTIN=#Gtin#,IHT_QRCode=#QrCode#,IHT_SN=#Sn#,IHT_Qty=#Qty#,IHT_UnitPrice=#UnitPrice#,IHT_UPN=#Upn#,IHT_LotNumber=#LotNumber#,IHT_Remark=#Remark#,IHT_PackingUnit=#PackingUnit#,IHT_ArrivalDate=#ArrivalDate#,IHT_LineNbr=#LineNbr#,IHT_ImportDate=#ImportDate#,IHT_ClientID=#Clientid#,IHT_BatchNbr=#BatchNbr#,IHT_ErrorMsg=#ErrorMsg#,IHT_WHM_ID=#WhmId#,IHT_WHM_Type=#WhmType#
      WHERE IHT_ID = #Id#
    </update>
    <delete id="DeleteInterfaceRedCrossHospitalTransactionWithqr" parameterClass="string">
      DELETE FROM InterfaceRedCrossHospitalTransactionWithQR
      WHERE IHT_ID = #value#
    </delete>

    <procedure id="GC_Interface_RedCrossHospitalTransactionWithQR" parameterMap="InterfaceRedCrossHospitalTransactionParameterMap">
      dbo.GC_Interface_RedCrossHospitalTransactionWithQR
    </procedure>
    <select id="SelectRedCrossHospitalTransactionByBatchNbrErrorOnly" parameterClass="string" resultClass="InterfaceRedCrossHospitalTransactionWithqr">
      SELECT IHT_ID AS Id,IHT_ApplicationType AS ApplicationType,IHT_Dealer_SapCode AS DealerSapCode,IHT_DealerName AS DealerName,IHT_HospitalCode AS HospitalCode,IHT_HospitalName AS HospitalName,IHT_ApplicationDate AS ApplicationDate,IHT_ApplicationNbr AS ApplicationNbr,IHT_MerchandiseName AS MerchandiseName,IHT_MerchandiseSpec AS MerchandiseSpec,IHT_DI AS Di,IHT_PI AS Pi,IHT_GTIN AS Gtin,IHT_QRCode AS QrCode,IHT_SN AS Sn,IHT_Qty AS Qty,IHT_UnitPrice AS UnitPrice,IHT_UPN AS Upn,IHT_LotNumber AS LotNumber,IHT_Remark AS Remark,IHT_PackingUnit AS PackingUnit,IHT_ArrivalDate AS ArrivalDate,IHT_LineNbr AS LineNbr,IHT_ImportDate AS ImportDate,IHT_ClientID AS Clientid,IHT_BatchNbr AS BatchNbr,IHT_ErrorMsg AS ErrorMsg,IHT_WHM_ID AS WhmId,IHT_WHM_Type AS WhmType
      FROM InterfaceRedCrossHospitalTransactionWithQR
      WHERE IHT_BatchNbr = #value# AND IHT_ErrorMsg &lt;> ''
      ORDER BY IHT_LineNbr
    </select>
  </statements>
</sqlMap>
