<?xml version="1.0" encoding="utf-8" ?>
<sqlMap namespace="ShortMessageTemplateMap" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://ibatis.apache.org/mapping">
  <alias>
    <typeAlias alias="ShortMessageTemplate" assembly="DMS.Model.dll" type="DMS.Model.ShortMessageTemplate" />
  </alias>
  <resultMaps>
    <resultMap id="ShortMessageTemplateResult" class="ShortMessageTemplate">
      <result property="Id" column="SMT_ID" type="Guid" dbType="uniqueidentifier"/>
      <result property="Code" column="SMT_Code" type="string" dbType="nvarchar"/>
      <result property="Template" column="SMT_Template" type="string" dbType="nvarchar"/>
    </resultMap>
  </resultMaps>
  <statements>
    <select id="SelectShortMessageTemplate" parameterClass="string" resultClass="ShortMessageTemplate">
      SELECT SMT_ID AS Id,SMT_Code AS Code,SMT_Template AS Template
      FROM ShortMessageTemplate
      <dynamic prepend="WHERE">
        <isParameterPresent>
          SMT_ID = #value#
        </isParameterPresent>
      </dynamic>
    </select>
    <select id="SelectByFilterShortMessageTemplate" parameterClass="ShortMessageTemplate" resultClass="ShortMessageTemplate">
      SELECT SMT_ID AS Id,SMT_Code AS Code,SMT_Template AS Template
      FROM ShortMessageTemplate
      <dynamic prepend="WHERE">
        <isNotNull prepend="AND" property="Id">SMT_ID=#Id#</isNotNull>
        <isNotNull prepend="AND" property="Code">SMT_Code=#Code#</isNotNull>
        <isNotNull prepend="AND" property="Template">SMT_Template=#Template#</isNotNull>
      </dynamic>
    </select>
    <insert id="InsertShortMessageTemplate" parameterClass="ShortMessageTemplate">
      INSERT INTO ShortMessageTemplate
      (SMT_ID,SMT_Code,SMT_Template)
      VALUES(#Id#,#Code#,#Template#)
    </insert>
    <update id="UpdateShortMessageTemplate" parameterClass="ShortMessageTemplate">
      UPDATE ShortMessageTemplate
      SET SMT_ID=#Id#,SMT_Code=#Code#,SMT_Template=#Template#
      WHERE SMT_ID = #Id#
    </update>
    <delete id="DeleteShortMessageTemplate" parameterClass="string">
      DELETE FROM ShortMessageTemplate
      WHERE SMT_ID = #value#
    </delete>
    <!--added by bozhenfei on 20110329-->
    <select id="SelectShortMessageTemplateByCode" parameterClass="string" resultClass="ShortMessageTemplate">
      SELECT SMT_ID AS Id,SMT_Code AS Code,SMT_Template AS Template
      FROM ShortMessageTemplate WHERE SMT_Code = #value#
    </select>
    <!--end-->
  </statements>
</sqlMap>
