<?xml version="1.0" encoding="utf-8" ?>
<sqlMap namespace="OperationLogMap" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://ibatis.apache.org/mapping">
  <alias>
    <typeAlias alias="OperationLog" assembly="DMS.Signature.dll" type="DMS.Signature.Model.OperationLog" />
  </alias>
  <resultMaps>
    <resultMap id="OperationLogResult" class="OperationLog">
      <result property="Id" column="Id" type="Guid" dbType="uniqueidentifier"/>
      <result property="DealerId" column="DealerId" type="Guid" dbType="uniqueidentifier"/>
      <result property="ApplyId" column="ApplyId" type="string" dbType="nvarchar"/>
      <result property="AccountUid" column="AccountUid" type="string" dbType="nvarchar"/>
      <result property="Name" column="Name" type="string" dbType="nvarchar"/>
      <result property="StartTime" column="StartTime" type="DateTime" dbType="datetime"/>
      <result property="EndTime" column="EndTime" type="DateTime" dbType="datetime"/>
      <result property="Status" column="Status" type="string" dbType="nvarchar"/>
      <result property="RequestMsg" column="RequestMsg" type="string" dbType="nvarchar"/>
      <result property="ResponseMsg" column="ResponseMsg" type="string" dbType="nvarchar"/>
    </resultMap>
  </resultMaps>
  <statements>

    <select id="SelectOperationLog" parameterClass="string" resultClass="OperationLog">
      SELECT Id AS Id,DealerId AS DealerId,ApplyId AS ApplyId,AccountUid AS AccountUid,Name AS Name,StartTime AS StartTime,EndTime AS EndTime,Status AS Status,RequestMsg AS RequestMsg,ResponseMsg AS ResponseMsg
      FROM ESign.OperationLog
      <dynamic prepend="WHERE">
        <isParameterPresent>
          Id = #value#
        </isParameterPresent>
      </dynamic>
    </select>
    <select id="SelectByFilterOperationLog" parameterClass="OperationLog" resultClass="OperationLog">
      SELECT Id AS Id,DealerId AS DealerId,ApplyId AS ApplyId,AccountUid AS AccountUid,Name AS Name,StartTime AS StartTime,EndTime AS EndTime,Status AS Status,RequestMsg AS RequestMsg,ResponseMsg AS ResponseMsg
      FROM ESign.OperationLog
      <dynamic prepend="WHERE">
        <isNotNull prepend="AND" property="Id">Id=#Id#</isNotNull>
        <isNotNull prepend="AND" property="DealerId">DealerId=#DealerId#</isNotNull>
        <isNotNull prepend="AND" property="ApplyId">ApplyId=#ApplyId#</isNotNull>
        <isNotNull prepend="AND" property="AccountUid">AccountUid=#AccountUid#</isNotNull>
        <isNotNull prepend="AND" property="Name">Name=#Name#</isNotNull>
        <isNotNull prepend="AND" property="StartTime">StartTime=#StartTime#</isNotNull>
        <isNotNull prepend="AND" property="EndTime">EndTime=#EndTime#</isNotNull>
        <isNotNull prepend="AND" property="Status">Status=#Status#</isNotNull>
        <isNotNull prepend="AND" property="RequestMsg">RequestMsg=#RequestMsg#</isNotNull>
        <isNotNull prepend="AND" property="ResponseMsg">ResponseMsg=#ResponseMsg#</isNotNull>
      </dynamic>
    </select>
    <insert id="InsertOperationLog" parameterClass="OperationLog">
      INSERT INTO ESign.OperationLog
      (Id,DealerId,ApplyId,AccountUid,Name,StartTime,EndTime,Status,RequestMsg,ResponseMsg)
      VALUES(#Id#,#DealerId#,#ApplyId#,#AccountUid#,#Name#,#StartTime:DateTime:1/1/0001 12:00:00 AM#,#EndTime:DateTime:1/1/0001 12:00:00 AM#,#Status#,#RequestMsg#,#ResponseMsg#)
    </insert>
    <update id="UpdateOperationLog" parameterClass="OperationLog">
      UPDATE ESign.OperationLog
      SET Id=#Id#,DealerId=#DealerId#,ApplyId=#ApplyId#,AccountUid=#AccountUid#,Name=#Name#,StartTime=#StartTime#,EndTime=#EndTime#,Status=#Status#,RequestMsg=#RequestMsg#,ResponseMsg=#ResponseMsg#
      WHERE Id = #Id#
    </update>
    <delete id="DeleteOperationLog" parameterClass="string">
      DELETE FROM ESign.OperationLog
      WHERE Id = #value#
    </delete>
  </statements>
</sqlMap>
