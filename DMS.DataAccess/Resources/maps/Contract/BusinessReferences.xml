<?xml version="1.0" encoding="utf-8" ?>
<sqlMap namespace="BusinessReferencesMap" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://ibatis.apache.org/mapping">
    <alias>
        <typeAlias alias="BusinessReferences" assembly="DMS.Model.dll" type="DMS.Model.BusinessReferences" />
    </alias>
    <resultMaps>
        <resultMap id="BusinessReferencesResult" class="BusinessReferences">
            <result property="Id" column="BR_ID" type="Guid" dbType="uniqueidentifier"/>
            <result property="CmId" column="BR_CM_ID" type="Guid" dbType="uniqueidentifier"/>
            <result property="Name" column="BR_Name" type="string" dbType="nvarchar"/>
            <result property="Address" column="BR_Address" type="string" dbType="nvarchar"/>
            <result property="Country" column="BR_Country" type="string" dbType="nvarchar"/>
            <result property="ContactPerson" column="BR_Contact_Person" type="string" dbType="nvarchar"/>
            <result property="Telephone" column="BR_Telephone" type="string" dbType="nvarchar"/>
            <result property="UpdateUser" column="BR_Update_User" type="Guid" dbType="uniqueidentifier"/>
            <result property="UpdateDate" column="BR_Update_Date" type="DateTime" dbType="datetime"/>
            <result property="CreateUser" column="BR_Create_User" type="Guid" dbType="uniqueidentifier"/>
            <result property="CreateDate" column="BR_Create_Date" type="DateTime" dbType="datetime"/>
        </resultMap>
    </resultMaps>
    <statements>

        <select id="SelectBusinessReferences" parameterClass="string" resultClass="BusinessReferences">
            SELECT BR_ID AS Id,BR_CM_ID AS CmId,BR_Name AS Name,BR_Address AS Address,BR_Country AS Country,BR_Contact_Person AS ContactPerson,BR_Telephone AS Telephone,BR_Update_User AS UpdateUser,BR_Update_Date AS UpdateDate,BR_Create_User AS CreateUser,BR_Create_Date AS CreateDate
            FROM BusinessReferences
            <dynamic prepend="WHERE">
                <isParameterPresent>
                    BR_ID = #value#
                </isParameterPresent>
            </dynamic>
        </select>
        <select id="SelectByFilterBusinessReferences" parameterClass="BusinessReferences" resultClass="BusinessReferences">
            SELECT BR_ID AS Id,BR_CM_ID AS CmId,BR_Name AS Name,BR_Address AS Address,BR_Country AS Country,BR_Contact_Person AS ContactPerson,BR_Telephone AS Telephone,BR_Update_User AS UpdateUser,BR_Update_Date AS UpdateDate,BR_Create_User AS CreateUser,BR_Create_Date AS CreateDate
            FROM BusinessReferences
            <dynamic prepend="WHERE">
                <isNotNull prepend="AND" property="Id">BR_ID=#Id#</isNotNull>
                <isNotNull prepend="AND" property="CmId">BR_CM_ID=#CmId#</isNotNull>
                <isNotNull prepend="AND" property="Name">BR_Name=#Name#</isNotNull>
                <isNotNull prepend="AND" property="Address">BR_Address=#Address#</isNotNull>
                <isNotNull prepend="AND" property="Country">BR_Country=#Country#</isNotNull>
                <isNotNull prepend="AND" property="ContactPerson">BR_Contact_Person=#ContactPerson#</isNotNull>
                <isNotNull prepend="AND" property="Telephone">BR_Telephone=#Telephone#</isNotNull>
                <isNotNull prepend="AND" property="UpdateUser">BR_Update_User=#UpdateUser#</isNotNull>
                <isNotNull prepend="AND" property="UpdateDate">BR_Update_Date=#UpdateDate#</isNotNull>
            </dynamic>
        </select>
        <insert id="InsertBusinessReferences" parameterClass="BusinessReferences">
            INSERT INTO BusinessReferences
            (BR_ID,BR_CM_ID,BR_Name,BR_Address,BR_Country,BR_Contact_Person,BR_Telephone,BR_Update_User,BR_Update_Date,BR_Create_User,BR_Create_Date)
            VALUES(#Id#,#CmId#,#Name#,#Address#,#Country#,#ContactPerson#,#Telephone#,#UpdateUser#,#UpdateDate:DateTime:1/1/0001 12:00:00 AM#,#CreateUser#,#CreateDate:DateTime:1/1/0001 12:00:00 AM#)
        </insert>
        <update id="UpdateBusinessReferences" parameterClass="BusinessReferences">
            UPDATE BusinessReferences
            SET BR_ID=#Id#,BR_CM_ID=#CmId#,BR_Name=#Name#,BR_Address=#Address#,BR_Country=#Country#,BR_Contact_Person=#ContactPerson#,BR_Telephone=#Telephone#,BR_Update_User=#UpdateUser#,BR_Update_Date=#UpdateDate#
            WHERE BR_ID = #Id#
        </update>
        <delete id="DeleteBusinessReferences" parameterClass="string">
            DELETE FROM BusinessReferences
            WHERE BR_ID = #value#
        </delete>

        <select id="SelectBusinessReferencesByFilter" parameterClass="System.Collections.Hashtable" resultClass="System.Data.DataSet">
            SELECT BR_ID AS Id,BR_CM_ID AS CmId,BR_Name AS Name,BR_Address AS Address,BR_Country AS Country,BR_Contact_Person AS ContactPerson,BR_Telephone AS Telephone,BR_Update_User AS UpdateUser,BR_Update_Date AS UpdateDate,BR_Create_User AS CreateUser,BR_Create_Date AS CreateDate
            FROM BusinessReferences
            <dynamic prepend="WHERE">
                <isNotNull prepend="AND" property="Id">BR_ID=#Id#</isNotNull>
                <isNotNull prepend="AND" property="CmId">BR_CM_ID=#CmId#</isNotNull>
                <isNotNull prepend="AND" property="Name">BR_Name=#Name#</isNotNull>
                <isNotNull prepend="AND" property="Address">BR_Address=#Address#</isNotNull>
                <isNotNull prepend="AND" property="Country">BR_Country=#Country#</isNotNull>
                <isNotNull prepend="AND" property="ContactPerson">BR_Contact_Person=#ContactPerson#</isNotNull>
                <isNotNull prepend="AND" property="Telephone">BR_Telephone=#Telephone#</isNotNull>
                <isNotNull prepend="AND" property="UpdateUser">BR_Update_User=#UpdateUser#</isNotNull>
                <isNotNull prepend="AND" property="UpdateDate">BR_Update_Date=#UpdateDate#</isNotNull>
            </dynamic>
            Order By BR_Name
        </select>

        <update id="UpdateBusinessReferencesByFilter" parameterClass="BusinessReferences">
            UPDATE BusinessReferences
            SET BR_Name=#Name#,BR_Address=#Address#,BR_Country=#Country#,BR_Contact_Person=#ContactPerson#,BR_Telephone=#Telephone#,BR_Update_User=#UpdateUser#,BR_Update_Date=#UpdateDate#
            WHERE BR_ID = #Id#
        </update>
        
    </statements>
</sqlMap>
