<?xml version="1.0" encoding="utf-8" ?>
<sqlMap namespace="MedicalDevicesMap" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://ibatis.apache.org/mapping">
    <alias>
        <typeAlias alias="MedicalDevices" assembly="DMS.Model.dll" type="DMS.Model.MedicalDevices" />
    </alias>
    <resultMaps>
        <resultMap id="MedicalDevicesResult" class="MedicalDevices">
            <result property="Id" column="MD_ID" type="Guid" dbType="uniqueidentifier"/>
            <result property="CmId" column="MD_CM_ID" type="Guid" dbType="uniqueidentifier"/>
            <result property="Name" column="MD_Name" type="string" dbType="nvarchar"/>
            <result property="Describe" column="MD_Describe" type="string" dbType="nvarchar"/>
            <result property="CreateDate" column="MD_Create_Date" type="DateTime" dbType="datetime"/>
            <result property="CreateUser" column="MD_Create_User" type="Guid" dbType="uniqueidentifier"/>
            <result property="UpdateDate" column="MD_Update_Date" type="DateTime" dbType="datetime"/>
            <result property="UpdateUser" column="MD_Update_User" type="Guid" dbType="uniqueidentifier"/>
        </resultMap>
    </resultMaps>
    <statements>

        <select id="SelectMedicalDevices" parameterClass="string" resultClass="MedicalDevices">
            SELECT MD_ID AS Id,MD_CM_ID AS CmId,MD_Name AS Name,MD_Describe AS Describe,MD_Create_Date AS CreateDate,MD_Create_User AS CreateUser,MD_Update_Date AS UpdateDate,MD_Update_User AS UpdateUser
            FROM MedicalDevices
            <dynamic prepend="WHERE">
                <isParameterPresent>
                    MD_ID = #value#
                </isParameterPresent>
            </dynamic>
        </select>
        <select id="SelectByFilterMedicalDevices" parameterClass="MedicalDevices" resultClass="MedicalDevices">
            SELECT MD_ID AS Id,MD_CM_ID AS CmId,MD_Name AS Name,MD_Describe AS Describe,MD_Create_Date AS CreateDate,MD_Create_User AS CreateUser,MD_Update_Date AS UpdateDate,MD_Update_User AS UpdateUser
            FROM MedicalDevices
            <dynamic prepend="WHERE">
                <isNotNull prepend="AND" property="Id">MD_ID=#Id#</isNotNull>
                <isNotNull prepend="AND" property="CmId">MD_CM_ID=#CmId#</isNotNull>
                <isNotNull prepend="AND" property="Name">MD_Name=#Name#</isNotNull>
                <isNotNull prepend="AND" property="Describe">MD_Describe=#Describe#</isNotNull>
                <isNotNull prepend="AND" property="UpdateDate">MD_Update_Date=#UpdateDate#</isNotNull>
                <isNotNull prepend="AND" property="UpdateUser">MD_Update_User=#UpdateUser#</isNotNull>
            </dynamic>
        </select>
        <insert id="InsertMedicalDevices" parameterClass="MedicalDevices">
            INSERT INTO MedicalDevices
            (MD_ID,MD_CM_ID,MD_Name,MD_Describe,MD_Create_Date,MD_Create_User,MD_Update_Date,MD_Update_User)
            VALUES(#Id#,#CmId#,#Name#,#Describe#,#CreateDate:DateTime:1/1/0001 12:00:00 AM#,#CreateUser#,#UpdateDate:DateTime:1/1/0001 12:00:00 AM#,#UpdateUser#)
        </insert>
        <update id="UpdateMedicalDevices" parameterClass="MedicalDevices">
            UPDATE MedicalDevices
            SET MD_ID=#Id#,MD_CM_ID=#CmId#,MD_Name=#Name#,MD_Describe=#Describe#,MD_Update_Date=#UpdateDate#,MD_Update_User=#UpdateUser#
            WHERE MD_ID = #Id#
        </update>
        <delete id="DeleteMedicalDevices" parameterClass="string">
            DELETE FROM MedicalDevices
            WHERE MD_ID = #value#
        </delete>

        <select id="SelectMedicalDevicesByFilter" parameterClass="System.Collections.Hashtable" resultClass="System.Data.DataSet">
            SELECT MD_ID AS Id,MD_CM_ID AS CmId,MD_Name AS Name,MD_Describe AS Describe,MD_Create_Date AS CreateDate,MD_Create_User AS CreateUser,MD_Update_Date AS UpdateDate,MD_Update_User AS UpdateUser
            FROM MedicalDevices
            <dynamic prepend="WHERE">
                <isNotNull prepend="AND" property="Id">MD_ID=#Id#</isNotNull>
                <isNotNull prepend="AND" property="CmId">MD_CM_ID=#CmId#</isNotNull>
                <isNotNull prepend="AND" property="Name">MD_Name=#Name#</isNotNull>
                <isNotNull prepend="AND" property="Describe">MD_Describe=#Describe#</isNotNull>
                <isNotNull prepend="AND" property="UpdateDate">MD_Update_Date=#UpdateDate#</isNotNull>
                <isNotNull prepend="AND" property="UpdateUser">MD_Update_User=#UpdateUser#</isNotNull>
            </dynamic>
            Order By MD_Name Desc
        </select>

        <update id="UpdateMedicalDevicesByFilter" parameterClass="MedicalDevices">
            UPDATE MedicalDevices
            SET MD_Name=#Name#,MD_Describe=#Describe#,MD_Update_Date=#UpdateDate#,MD_Update_User=#UpdateUser#
            WHERE MD_ID = #Id#
        </update>
        
    </statements>
</sqlMap>
